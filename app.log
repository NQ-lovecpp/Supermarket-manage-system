2024-07-15 23:13:08,528 - app - INFO - Supermarket startup
2024-07-15 23:13:09,576 - app - INFO - Supermarket startup
2024-07-15 23:13:12,889 - app - INFO - Supermarket startup
2024-07-15 23:13:13,767 - app - INFO - Fetching inventory list
2024-07-15 23:13:13,771 - app - INFO - Found 3 products
2024-07-15 23:13:13,780 - app - INFO - Successfully prepared inventory data
2024-07-15 23:13:16,889 - app - INFO - Accessing suppliers page
2024-07-15 23:13:17,409 - app - INFO - Accessing employees page
2024-07-15 23:13:17,904 - app - INFO - Accessing purchases page
2024-07-15 23:13:18,380 - app - INFO - Accessing sales page
2024-07-15 23:13:19,389 - app - INFO - Fetching inventory list
2024-07-15 23:13:19,391 - app - INFO - Found 3 products
2024-07-15 23:13:19,399 - app - INFO - Successfully prepared inventory data
2024-07-15 23:13:20,590 - app - INFO - Starting to generate inventory report
2024-07-15 23:13:20,597 - app - ERROR - Unexpected error generating inventory report: '<' not supported between instances of 'int' and 'NoneType'
Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\inventory.py", line 90, in generate_report
    '低库存' if product.stock < product.alert_threshold else '正常'
TypeError: '<' not supported between instances of 'int' and 'NoneType'
2024-07-15 23:13:20,603 - app - INFO - Starting to generate inventory report
2024-07-15 23:13:20,610 - app - ERROR - Unexpected error generating inventory report: '<' not supported between instances of 'int' and 'NoneType'
Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\inventory.py", line 90, in generate_report
    '低库存' if product.stock < product.alert_threshold else '正常'
TypeError: '<' not supported between instances of 'int' and 'NoneType'
2024-07-15 23:13:35,155 - app - INFO - Fetching inventory list
2024-07-15 23:13:35,156 - app - INFO - Found 3 products
2024-07-15 23:13:35,161 - app - INFO - Successfully prepared inventory data
2024-07-15 23:13:40,195 - app - INFO - Fetching inventory list
2024-07-15 23:13:40,197 - app - INFO - Found 3 products
2024-07-15 23:13:40,203 - app - INFO - Successfully prepared inventory data
2024-07-15 23:13:44,492 - app - INFO - Starting to generate inventory report
2024-07-15 23:13:44,499 - app - ERROR - Unexpected error generating inventory report: '<' not supported between instances of 'int' and 'NoneType'
Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\inventory.py", line 90, in generate_report
    '低库存' if product.stock < product.alert_threshold else '正常'
TypeError: '<' not supported between instances of 'int' and 'NoneType'
2024-07-15 23:13:44,504 - app - INFO - Starting to generate inventory report
2024-07-15 23:13:44,512 - app - ERROR - Unexpected error generating inventory report: '<' not supported between instances of 'int' and 'NoneType'
Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\inventory.py", line 90, in generate_report
    '低库存' if product.stock < product.alert_threshold else '正常'
TypeError: '<' not supported between instances of 'int' and 'NoneType'
2024-07-15 23:16:01,827 - app - INFO - Fetching inventory list
2024-07-15 23:16:01,828 - app - INFO - Found 3 products
2024-07-15 23:16:01,836 - app - INFO - Successfully prepared inventory data
2024-07-15 23:16:43,264 - app - INFO - Starting to generate inventory report
2024-07-15 23:16:43,270 - app - ERROR - Unexpected error generating inventory report: '<' not supported between instances of 'int' and 'NoneType'
Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\inventory.py", line 90, in generate_report
    '低库存' if product.stock < product.alert_threshold else '正常'
TypeError: '<' not supported between instances of 'int' and 'NoneType'
2024-07-15 23:16:43,276 - app - INFO - Starting to generate inventory report
2024-07-15 23:16:43,283 - app - ERROR - Unexpected error generating inventory report: '<' not supported between instances of 'int' and 'NoneType'
Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\inventory.py", line 90, in generate_report
    '低库存' if product.stock < product.alert_threshold else '正常'
TypeError: '<' not supported between instances of 'int' and 'NoneType'
2024-07-16 08:33:03,389 - app - INFO - Supermarket startup
2024-07-16 08:33:04,177 - app - INFO - Supermarket startup
2024-07-16 08:33:09,055 - app - INFO - Fetching inventory list
2024-07-16 08:33:09,057 - app - INFO - Found 3 products
2024-07-16 08:33:09,064 - app - INFO - Successfully prepared inventory data
2024-07-16 08:33:10,139 - app - INFO - Supermarket startup
2024-07-16 08:33:16,614 - app - INFO - Fetching inventory list
2024-07-16 08:33:16,620 - app - INFO - Found 3 products
2024-07-16 08:33:16,638 - app - INFO - Successfully prepared inventory data
2024-07-16 08:33:21,649 - app - INFO - Starting to generate inventory report
2024-07-16 08:33:21,672 - app - INFO - Inventory report generated successfully
2024-07-16 08:33:21,687 - app - INFO - Starting to generate inventory report
2024-07-16 08:33:21,699 - app - INFO - Inventory report generated successfully
2024-07-16 09:05:49,047 - app - INFO - Supermarket startup
2024-07-16 09:05:49,903 - app - INFO - Supermarket startup
2024-07-16 09:06:23,113 - app - INFO - Accessing sales page
2024-07-16 09:08:48,241 - app - INFO - Supermarket startup
2024-07-16 09:08:48,977 - app - INFO - Supermarket startup
2024-07-16 09:14:24,821 - app - INFO - Supermarket startup
2024-07-16 09:14:25,502 - app - INFO - Supermarket startup
2024-07-16 09:16:21,068 - app - INFO - Supermarket startup
2024-07-16 09:16:21,826 - app - INFO - Supermarket startup
2024-07-16 09:16:41,234 - app - INFO - Accessing employees page
2024-07-16 09:16:45,387 - app - INFO - Accessing purchases page
2024-07-16 09:25:07,170 - app - INFO - Supermarket startup
2024-07-16 09:25:07,874 - app - INFO - Supermarket startup
2024-07-16 09:25:12,863 - app - INFO - Supermarket startup
2024-07-16 09:25:29,902 - app - INFO - Fetching inventory list
2024-07-16 09:25:29,905 - app - INFO - Found 3 products
2024-07-16 09:25:29,913 - app - INFO - Successfully prepared inventory data
2024-07-16 09:25:30,285 - app - INFO - Accessing sales page
2024-07-16 09:25:30,787 - app - INFO - Accessing purchases page
2024-07-16 09:25:31,443 - app - INFO - Accessing employees page
2024-07-16 09:25:32,012 - app - INFO - Accessing suppliers page
2024-07-16 09:25:34,666 - app - INFO - Accessing suppliers page
2024-07-16 09:25:35,398 - app - INFO - Accessing employees page
2024-07-16 09:25:35,923 - app - INFO - Accessing purchases page
2024-07-16 09:25:36,377 - app - INFO - Accessing sales page
2024-07-16 09:25:37,658 - app - INFO - Fetching inventory list
2024-07-16 09:25:37,661 - app - INFO - Found 3 products
2024-07-16 09:25:37,663 - app - INFO - Successfully prepared inventory data
2024-07-16 09:25:38,859 - app - INFO - Fetching inventory list
2024-07-16 09:25:38,862 - app - INFO - Found 3 products
2024-07-16 09:25:38,866 - app - INFO - Successfully prepared inventory data
2024-07-16 09:27:21,447 - app - INFO - Supermarket startup
2024-07-16 09:27:37,508 - app - INFO - Supermarket startup
2024-07-16 09:28:12,820 - app - INFO - Supermarket startup
2024-07-16 09:28:13,567 - app - INFO - Supermarket startup
2024-07-16 09:28:53,983 - app - INFO - Supermarket startup
2024-07-16 09:30:47,588 - app - INFO - Supermarket startup
2024-07-16 09:30:48,444 - app - INFO - Supermarket startup
2024-07-16 09:30:57,987 - app - ERROR - Error rendering analysis template: Encountered unknown tag 'endblock'.
2024-07-16 09:35:03,510 - app - INFO - Supermarket startup
2024-07-16 09:35:08,502 - app - INFO - Supermarket startup
2024-07-16 09:36:38,368 - app - INFO - Supermarket startup
2024-07-16 09:36:39,101 - app - INFO - Supermarket startup
2024-07-16 09:36:44,828 - app - ERROR - Error rendering analysis template: Encountered unknown tag 'endblock'.
Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 12, in analysis
    return render_template('analysis.html')
  File "E:\Anaconda\lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "E:\Anaconda\lib\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
  File "E:\Anaconda\lib\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
  File "E:\Anaconda\lib\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "E:\Anaconda\lib\site-packages\jinja2\loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
  File "E:\Anaconda\lib\site-packages\jinja2\environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "E:\Anaconda\lib\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "E:\My struggle\数据库课设\app\templates\analysis.html", line 62, in template
    {% endblock %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endblock'.

2024-07-16 09:37:02,315 - app - INFO - Supermarket startup
2024-07-16 09:37:09,780 - app - INFO - Supermarket startup
2024-07-16 09:37:10,508 - app - INFO - Supermarket startup
2024-07-16 09:37:15,041 - app - ERROR - Error rendering analysis template: Encountered unknown tag 'endblock'.
2024-07-16 09:37:23,573 - app - INFO - Supermarket startup
2024-07-16 09:37:24,267 - app - INFO - Supermarket startup
2024-07-16 09:37:28,104 - app - INFO - Supermarket startup
2024-07-16 09:37:28,813 - app - INFO - Supermarket startup
2024-07-16 09:37:35,789 - app - INFO - Supermarket startup
2024-07-16 09:37:44,937 - app - INFO - Supermarket startup
2024-07-16 09:37:45,623 - app - INFO - Supermarket startup
2024-07-16 09:38:02,869 - app - INFO - Supermarket startup
2024-07-16 09:38:03,577 - app - INFO - Supermarket startup
2024-07-16 09:38:27,191 - app - INFO - Supermarket startup
2024-07-16 09:38:27,891 - app - INFO - Supermarket startup
2024-07-16 09:38:40,472 - app - INFO - Supermarket startup
2024-07-16 09:38:41,185 - app - INFO - Supermarket startup
2024-07-16 09:52:44,234 - app - INFO - Supermarket startup
2024-07-16 09:52:44,992 - app - INFO - Supermarket startup
2024-07-16 09:52:51,989 - app - INFO - Accessing suppliers page
2024-07-16 09:52:52,850 - app - INFO - Accessing employees page
2024-07-16 09:52:53,556 - app - INFO - Accessing purchases page
2024-07-16 09:52:54,265 - app - INFO - Accessing sales page
2024-07-16 09:52:55,376 - app - INFO - Fetching inventory list
2024-07-16 09:52:55,379 - app - INFO - Found 3 products
2024-07-16 09:52:55,386 - app - INFO - Successfully prepared inventory data
2024-07-16 09:52:56,890 - app - INFO - Accessing sales page
2024-07-16 09:53:00,783 - app - INFO - Attempting to delete sale with id: 21
2024-07-16 09:53:00,790 - app - INFO - Sale found: <Sale 21>
2024-07-16 09:53:00,794 - app - INFO - Updating stock for product 8
2024-07-16 09:53:00,812 - app - INFO - Sale 21 deleted successfully
2024-07-16 10:05:33,256 - app - INFO - Supermarket startup
2024-07-16 10:05:33,988 - app - INFO - Supermarket startup
2024-07-16 10:08:36,441 - app - INFO - Supermarket startup
2024-07-16 10:08:45,181 - app - INFO - Supermarket startup
2024-07-16 10:08:45,907 - app - INFO - Supermarket startup
2024-07-16 10:08:48,844 - app - INFO - Supermarket startup
2024-07-16 10:09:20,736 - app - INFO - Supermarket startup
2024-07-16 10:09:21,399 - app - INFO - Supermarket startup
2024-07-16 10:12:02,624 - app - INFO - Supermarket startup
2024-07-16 10:12:03,326 - app - INFO - Supermarket startup
2024-07-16 10:12:16,374 - app - INFO - Supermarket startup
2024-07-16 10:12:24,562 - app - INFO - Supermarket startup
2024-07-16 10:12:25,279 - app - INFO - Supermarket startup
2024-07-16 10:18:34,420 - app - INFO - Supermarket startup
2024-07-16 10:18:35,152 - app - INFO - Supermarket startup
2024-07-16 10:18:41,501 - app - INFO - Fetching inventory list
2024-07-16 10:18:41,510 - app - INFO - Found 3 products
2024-07-16 10:18:41,523 - app - INFO - Successfully prepared inventory data
2024-07-16 10:18:46,167 - app - INFO - Supermarket startup
2024-07-16 10:20:27,087 - app - INFO - Accessing suppliers page
2024-07-16 10:20:27,608 - app - INFO - Accessing employees page
2024-07-16 10:20:28,205 - app - INFO - Accessing purchases page
2024-07-16 10:20:28,769 - app - INFO - Accessing sales page
2024-07-16 10:20:29,472 - app - INFO - Fetching inventory list
2024-07-16 10:20:29,474 - app - INFO - Found 3 products
2024-07-16 10:20:29,483 - app - INFO - Successfully prepared inventory data
2024-07-16 10:22:28,687 - app - INFO - Supermarket startup
2024-07-16 10:22:29,378 - app - INFO - Supermarket startup
2024-07-16 10:29:43,156 - app - INFO - Supermarket startup
2024-07-16 10:43:08,248 - app - INFO - Supermarket startup
2024-07-16 10:43:09,008 - app - INFO - Supermarket startup
2024-07-16 10:43:32,292 - app - INFO - Supermarket startup
2024-07-16 10:46:34,372 - app - INFO - Supermarket startup
2024-07-16 10:46:35,051 - app - INFO - Supermarket startup
2024-07-16 10:52:40,020 - app - INFO - Supermarket startup
2024-07-16 10:53:50,910 - app - INFO - Supermarket startup
2024-07-16 10:54:12,068 - app - INFO - Supermarket startup
2024-07-16 10:55:28,895 - app - INFO - Supermarket startup
2024-07-16 10:55:29,905 - app - INFO - Supermarket startup
2024-07-16 10:56:25,066 - app - INFO - Supermarket startup
2024-07-16 10:56:25,784 - app - INFO - Supermarket startup
2024-07-16 10:56:36,686 - app - INFO - Accessing suppliers page
2024-07-16 10:56:37,160 - app - INFO - Accessing employees page
2024-07-16 10:56:37,687 - app - INFO - Accessing purchases page
2024-07-16 10:56:38,219 - app - INFO - Accessing sales page
2024-07-16 11:01:11,991 - app - INFO - Supermarket startup
2024-07-16 11:01:12,737 - app - INFO - Supermarket startup
2024-07-16 12:03:44,622 - app - INFO - Accessing suppliers page
2024-07-16 12:03:45,084 - app - INFO - Accessing employees page
2024-07-16 12:03:45,568 - app - INFO - Accessing purchases page
2024-07-16 12:03:45,969 - app - INFO - Accessing sales page
2024-07-16 12:03:49,229 - app - INFO - Supermarket startup
2024-07-16 13:05:07,539 - app - INFO - Supermarket startup
2024-07-16 13:05:08,320 - app - INFO - Supermarket startup
2024-07-16 13:05:13,181 - app - INFO - Supermarket startup
2024-07-16 13:05:17,088 - app - INFO - Supermarket startup
2024-07-16 13:05:40,222 - app - INFO - Supermarket startup
2024-07-16 13:14:16,845 - app - INFO - Supermarket startup
2024-07-16 13:14:49,832 - app - INFO - Supermarket startup
2024-07-16 13:14:50,510 - app - INFO - Supermarket startup
2024-07-16 13:14:57,179 - app - INFO - Accessing suppliers page
2024-07-16 13:14:59,640 - app - INFO - Accessing employees page
2024-07-16 13:15:01,837 - app - INFO - Accessing purchases page
2024-07-16 13:15:03,464 - app - INFO - Supermarket startup
2024-07-16 13:15:08,353 - app - INFO - Supermarket startup
2024-07-16 13:15:20,351 - app - INFO - Supermarket startup
2024-07-16 13:15:52,013 - app - INFO - Supermarket startup
2024-07-16 13:15:52,714 - app - INFO - Supermarket startup
2024-07-16 13:16:01,009 - app - INFO - Accessing suppliers page
2024-07-16 13:16:03,334 - app - INFO - Accessing employees page
2024-07-16 13:16:04,348 - app - INFO - Accessing purchases page
2024-07-16 13:16:05,882 - app - INFO - Accessing sales page
2024-07-16 13:16:18,723 - app - INFO - Accessing sales page
2024-07-16 13:16:20,954 - app - INFO - Accessing purchases page
2024-07-16 13:17:01,428 - app - INFO - Supermarket startup
2024-07-16 13:17:17,477 - app - INFO - Supermarket startup
2024-07-16 13:24:25,664 - app - INFO - Supermarket startup
2024-07-16 13:24:26,371 - app - INFO - Supermarket startup
2024-07-16 13:24:33,913 - app - INFO - Accessing suppliers page
2024-07-16 13:24:34,659 - app - INFO - Accessing employees page
2024-07-16 13:24:35,570 - app - INFO - Accessing purchases page
2024-07-16 13:24:36,359 - app - INFO - Accessing sales page
2024-07-16 13:38:27,034 - app - INFO - Supermarket startup
2024-07-16 13:38:27,755 - app - INFO - Supermarket startup
2024-07-16 13:38:31,493 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 13:38:41,161 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 13:38:41,163 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 13:38:41,167 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 13:38:41,171 - app.routes.analysis - INFO - Profits analysis requested
2024-07-16 13:38:41,175 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 13:38:41,177 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 13:38:41,177 - app.routes.analysis - ERROR - Error in profits: type object 'Product' has no attribute 'cost'
2024-07-16 13:38:41,187 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 114, in profits
    ((Product.price - Product.cost) / Product.cost * 100).label('profit_rate')
AttributeError: type object 'Product' has no attribute 'cost'

2024-07-16 13:38:41,407 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 13, 38, 41, 179028), datetime.datetime(2024, 7, 16, 13, 38, 41, 179028))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 13:38:41,410 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale 
WHERE sale.sale_date >= ? AND sale.sale_date <= ? GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', datetime.datetime(2024, 5, 1, 0, 0), datetime.datetime(2024, 7, 1, 0, 0), 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 13:38:41,468 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 142, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 13, 38, 41, 179028), datetime.datetime(2024, 7, 16, 13, 38, 41, 179028))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 13:38:41,571 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale 
WHERE sale.sale_date >= ? AND sale.sale_date <= ? GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', datetime.datetime(2024, 5, 1, 0, 0), datetime.datetime(2024, 7, 1, 0, 0), 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 13:38:42,786 - app - INFO - Supermarket startup
2024-07-16 13:56:30,701 - app - INFO - Supermarket startup
2024-07-16 13:56:31,403 - app - INFO - Supermarket startup
2024-07-16 13:56:37,263 - app - INFO - Accessing suppliers page
2024-07-16 13:56:38,293 - app - INFO - Accessing employees page
2024-07-16 13:56:38,849 - app - INFO - Accessing purchases page
2024-07-16 13:56:39,454 - app - INFO - Accessing sales page
2024-07-16 13:56:40,837 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 13:56:43,817 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 13:56:43,818 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 13:56:43,820 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 13:56:43,822 - app.routes.analysis - INFO - Profits analysis requested
2024-07-16 13:56:43,823 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 13:56:43,824 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 13:56:43,867 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 13:56:43,868 - app.routes.analysis - ERROR - Error in profits: type object 'Product' has no attribute 'cost'
2024-07-16 13:56:43,879 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 114, in profits
    ((Product.price - Product.cost) / Product.cost * 100).label('profit_rate')
AttributeError: type object 'Product' has no attribute 'cost'

2024-07-16 13:56:43,906 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 13:56:43,908 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 13, 56, 43, 871741), datetime.datetime(2024, 7, 16, 13, 56, 43, 871741))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 13:56:43,919 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 142, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 13, 56, 43, 871741), datetime.datetime(2024, 7, 16, 13, 56, 43, 871741))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:09:21,900 - app - INFO - Accessing suppliers page
2024-07-16 14:09:23,434 - app - INFO - Supermarket startup
2024-07-16 14:09:26,306 - app - INFO - Accessing suppliers page
2024-07-16 14:09:27,596 - app - INFO - Accessing purchases page
2024-07-16 14:09:31,497 - app - INFO - Supermarket startup
2024-07-16 14:09:40,926 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 14:09:46,525 - app - INFO - Accessing sales page
2024-07-16 14:09:47,685 - app - INFO - Supermarket startup
2024-07-16 14:09:53,309 - app - INFO - Accessing purchases page
2024-07-16 14:10:06,557 - app - INFO - Accessing sales page
2024-07-16 14:10:30,064 - app - INFO - Accessing purchases page
2024-07-16 14:10:38,744 - app - INFO - Accessing sales page
2024-07-16 14:10:48,330 - app - INFO - Adding new sale
2024-07-16 14:10:48,370 - app - INFO - Successfully added new sale for product ID: 8
2024-07-16 14:11:14,085 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 14:11:26,463 - app - INFO - Accessing sales page
2024-07-16 14:16:10,180 - app - INFO - Supermarket startup
2024-07-16 14:16:11,005 - app - INFO - Supermarket startup
2024-07-16 14:16:14,429 - app - INFO - Accessing sales page
2024-07-16 14:16:32,030 - app - INFO - Attempting to delete sale with id: 17
2024-07-16 14:16:32,137 - app - INFO - Sale found: <Sale 17>
2024-07-16 14:16:32,145 - app - INFO - Updating stock for product 8
2024-07-16 14:16:32,160 - app - INFO - Sale 17 deleted successfully
2024-07-16 14:17:46,897 - app - INFO - Accessing purchases page
2024-07-16 14:17:50,598 - app - INFO - Accessing sales page
2024-07-16 14:17:54,008 - app - INFO - Accessing purchases page
2024-07-16 14:18:02,346 - app - INFO - Accessing sales page
2024-07-16 14:18:45,839 - app - INFO - Supermarket startup
2024-07-16 14:18:46,534 - app - INFO - Supermarket startup
2024-07-16 14:19:17,522 - app - INFO - Supermarket startup
2024-07-16 14:19:18,238 - app - INFO - Supermarket startup
2024-07-16 14:19:32,122 - app - INFO - Accessing suppliers page
2024-07-16 14:19:35,529 - app - INFO - Accessing employees page
2024-07-16 14:19:37,536 - app - INFO - Accessing sales page
2024-07-16 14:19:38,145 - app - INFO - Accessing purchases page
2024-07-16 14:26:23,813 - app - INFO - Supermarket startup
2024-07-16 14:30:26,465 - app - INFO - Supermarket startup
2024-07-16 14:30:31,459 - app - INFO - Supermarket startup
2024-07-16 14:31:42,257 - app - INFO - Supermarket startup
2024-07-16 14:32:08,367 - app - INFO - Supermarket startup
2024-07-16 14:32:09,165 - app - INFO - Supermarket startup
2024-07-16 14:32:17,770 - app - INFO - Accessing suppliers page
2024-07-16 14:32:26,045 - app - INFO - Accessing suppliers page
2024-07-16 14:32:30,218 - app - INFO - Accessing employees page
2024-07-16 14:32:48,656 - app - INFO - Accessing purchases page
2024-07-16 14:32:56,435 - app - INFO - Accessing sales page
2024-07-16 14:32:58,077 - app - INFO - Accessing purchases page
2024-07-16 14:32:59,030 - app - INFO - Accessing sales page
2024-07-16 14:33:05,966 - app - INFO - Accessing purchases page
2024-07-16 14:33:17,921 - app - INFO - Accessing sales page
2024-07-16 14:33:18,773 - app - INFO - Accessing purchases page
2024-07-16 14:33:20,028 - app - INFO - Accessing sales page
2024-07-16 14:33:28,354 - app - INFO - Accessing suppliers page
2024-07-16 14:33:37,174 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 14:34:48,720 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:34:48,721 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:34:48,728 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:34:48,732 - app.routes.analysis - ERROR - Error in profits calculation: type object 'Product' has no attribute 'id'
2024-07-16 14:34:48,734 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:34:48,735 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:34:48,736 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:34:48,760 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 34, 48, 740289), datetime.datetime(2024, 7, 16, 14, 34, 48, 740289))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:34:48,782 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 34, 48, 740289), datetime.datetime(2024, 7, 16, 14, 34, 48, 740289))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:34:48,783 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:34:50,248 - app - INFO - Supermarket startup
2024-07-16 14:35:22,779 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:35:22,784 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:35:22,786 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:35:22,815 - app.routes.analysis - ERROR - Error in profits calculation: type object 'Product' has no attribute 'id'
2024-07-16 14:35:22,818 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:35:22,824 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:35:23,094 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:35:23,099 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 35, 22, 851354), datetime.datetime(2024, 7, 16, 14, 35, 22, 851354))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:35:23,219 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:35:23,242 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 35, 22, 851354), datetime.datetime(2024, 7, 16, 14, 35, 22, 851354))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:35:47,239 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:35:47,241 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:35:47,242 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:35:47,244 - app.routes.analysis - ERROR - Error in profits calculation: type object 'Product' has no attribute 'id'
2024-07-16 14:35:47,245 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:35:47,247 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:35:47,252 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:35:47,287 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 35, 47, 284059), datetime.datetime(2024, 7, 16, 14, 35, 47, 284059))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:35:47,315 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:35:47,332 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 35, 47, 284059), datetime.datetime(2024, 7, 16, 14, 35, 47, 284059))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:35:52,300 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:35:52,302 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:35:52,303 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:35:52,305 - app.routes.analysis - ERROR - Error in profits calculation: type object 'Product' has no attribute 'id'
2024-07-16 14:35:52,307 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:35:52,309 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:35:52,313 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:35:52,355 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 35, 52, 346872), datetime.datetime(2024, 7, 16, 14, 35, 52, 346872))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:35:52,364 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:35:52,381 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 35, 52, 346872), datetime.datetime(2024, 7, 16, 14, 35, 52, 346872))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:40:58,547 - app - INFO - Supermarket startup
2024-07-16 14:41:51,998 - app - INFO - Supermarket startup
2024-07-16 14:42:10,665 - app - INFO - Supermarket startup
2024-07-16 14:42:11,467 - app - INFO - Supermarket startup
2024-07-16 14:42:19,600 - app - INFO - Accessing sales page
2024-07-16 14:42:20,088 - app - INFO - Accessing purchases page
2024-07-16 14:42:20,765 - app - INFO - Accessing employees page
2024-07-16 14:42:21,565 - app - INFO - Accessing suppliers page
2024-07-16 14:42:26,336 - app - INFO - Accessing suppliers page
2024-07-16 14:42:27,959 - app - INFO - Accessing employees page
2024-07-16 14:42:29,630 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 14:42:33,905 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:42:33,906 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:42:33,913 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:42:33,914 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:42:33,923 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:42:33,926 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:42:33,956 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:42:34,003 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 42, 33, 929701), datetime.datetime(2024, 7, 16, 14, 42, 33, 929701))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:42:34,005 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 42, 33, 929701), datetime.datetime(2024, 7, 16, 14, 42, 33, 929701))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:42:50,591 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:42:50,594 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:42:50,601 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:42:50,608 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:42:50,610 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:42:50,611 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:42:50,648 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:42:50,664 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 42, 50, 659622), datetime.datetime(2024, 7, 16, 14, 42, 50, 659622))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:42:50,709 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 42, 50, 659622), datetime.datetime(2024, 7, 16, 14, 42, 50, 659622))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:42:51,741 - app - INFO - Supermarket startup
2024-07-16 14:47:46,931 - app - INFO - Supermarket startup
2024-07-16 14:47:47,647 - app - INFO - Supermarket startup
2024-07-16 14:47:51,716 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 14:47:53,415 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:47:53,416 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:47:53,417 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:47:53,442 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:47:53,445 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:47:53,765 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:47:53,769 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 47, 53, 446442), datetime.datetime(2024, 7, 16, 14, 47, 53, 446442))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:47:53,783 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:47:53,783 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 47, 53, 446442), datetime.datetime(2024, 7, 16, 14, 47, 53, 446442))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:48:21,043 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:48:21,044 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:48:21,048 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:48:21,060 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:48:21,060 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:48:21,062 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:48:21,071 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 48, 21, 65595), datetime.datetime(2024, 7, 16, 14, 48, 21, 65595))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:48:21,097 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:48:21,113 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 48, 21, 65595), datetime.datetime(2024, 7, 16, 14, 48, 21, 65595))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:52:22,352 - app - INFO - Supermarket startup
2024-07-16 14:52:23,179 - app - INFO - Supermarket startup
2024-07-16 14:52:27,085 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 14:52:29,596 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:52:29,597 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:52:29,599 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:52:29,622 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:52:29,623 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:52:29,984 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:52:29,987 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 52, 29, 639418), datetime.datetime(2024, 7, 16, 14, 52, 29, 639418))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:52:30,005 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:52:30,012 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 52, 29, 639418), datetime.datetime(2024, 7, 16, 14, 52, 29, 639418))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:54:04,874 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 14:54:12,989 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:54:12,990 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:54:12,992 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:54:13,000 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:54:13,003 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:54:13,006 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:54:13,052 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 54, 13, 41808), datetime.datetime(2024, 7, 16, 14, 54, 13, 41808))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:54:13,062 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:54:13,109 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 54, 13, 41808), datetime.datetime(2024, 7, 16, 14, 54, 13, 41808))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:54:27,037 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 14:54:27,039 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 14:54:27,040 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 14:54:27,048 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 14:54:27,051 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 14:54:27,056 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:54:27,088 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 54, 27, 84494), datetime.datetime(2024, 7, 16, 14, 54, 27, 84494))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 14:54:27,116 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 14:54:27,133 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 14, 54, 27, 84494), datetime.datetime(2024, 7, 16, 14, 54, 27, 84494))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 15:02:23,536 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:02:23,539 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:02:23,540 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:02:23,549 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:02:23,551 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:02:23,565 - app.routes.analysis - ERROR - Error in sales_trend: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale 
WHERE sale.sale_date >= ? AND sale.sale_date <= ? GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', datetime.datetime(2024, 5, 1, 0, 0), datetime.datetime(2024, 9, 30, 0, 0), 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 15:02:23,589 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 15, 2, 23, 582795), datetime.datetime(2024, 7, 16, 15, 2, 23, 582795))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 15:02:23,613 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 37, in sales_trend
    result = query.group_by(func.date_trunc(interval, Sale.sale_date)).order_by('date').all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]'date_trunc' 不是可以识别的 内置函数名称。 (195) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT date_trunc(?, sale.sale_date) AS date, sum(sale.quantity * sale.unit_price) AS total_sales 
FROM sale 
WHERE sale.sale_date >= ? AND sale.sale_date <= ? GROUP BY date_trunc(?, sale.sale_date) ORDER BY date]
[parameters: ('day', datetime.datetime(2024, 5, 1, 0, 0), datetime.datetime(2024, 9, 30, 0, 0), 'day')]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 15:02:23,658 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 162, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 15, 2, 23, 582795), datetime.datetime(2024, 7, 16, 15, 2, 23, 582795))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 15:05:17,193 - app - INFO - Supermarket startup
2024-07-16 15:05:17,912 - app - INFO - Supermarket startup
2024-07-16 15:09:52,741 - app - INFO - Supermarket startup
2024-07-16 15:09:54,368 - app - INFO - Supermarket startup
2024-07-16 15:09:55,105 - app - INFO - Supermarket startup
2024-07-16 15:09:57,990 - app - INFO - Supermarket startup
2024-07-16 15:10:23,406 - app - INFO - Supermarket startup
2024-07-16 15:10:24,076 - app - INFO - Supermarket startup
2024-07-16 15:11:54,291 - app - INFO - Supermarket startup
2024-07-16 15:11:55,064 - app - INFO - Supermarket startup
2024-07-16 15:11:58,506 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:12:05,480 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:12:05,482 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:12:05,483 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:12:05,521 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:12:05,522 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:12:05,927 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 15, 12, 5, 590923), datetime.datetime(2024, 7, 16, 15, 12, 5, 590923))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 15:12:05,934 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 160, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 15, 12, 5, 590923), datetime.datetime(2024, 7, 16, 15, 12, 5, 590923))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 15:12:31,647 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:12:33,924 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:12:33,924 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:12:33,926 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:12:33,938 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:12:33,939 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:12:33,944 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 15, 12, 33, 940231), datetime.datetime(2024, 7, 16, 15, 12, 33, 940231))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 15:12:33,958 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 160, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 15, 12, 33, 940231), datetime.datetime(2024, 7, 16, 15, 12, 33, 940231))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 15:17:14,278 - app - INFO - Supermarket startup
2024-07-16 15:17:14,969 - app - INFO - Supermarket startup
2024-07-16 15:17:18,638 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:17:19,876 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:17:19,877 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:17:19,878 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:17:19,900 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:17:19,902 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:17:20,150 - app.routes.analysis - ERROR - Error in inventory_turnover: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 15, 17, 19, 925235), datetime.datetime(2024, 7, 16, 15, 17, 19, 925235))]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-07-16 15:17:20,162 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 160, in inventory_turnover
    result = query.all()
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2688, in all
    return self._iter().all()  # type: ignore
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\query.py", line 2842, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2262, in execute
    return self._execute_internal(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\session.py", line 2144, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1412, in execute
    return meth(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1635, in _execute_clauseelement
    ret = self._execute_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1844, in _execute_context
    return self._exec_single_context(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1984, in _exec_single_context
    self._handle_dbapi_exception(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 2339, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\base.py", line 1965, in _exec_single_context
    self.dialect.do_execute(
  File "E:\Anaconda\lib\site-packages\sqlalchemy\engine\default.py", line 921, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]选择列表中的列 'product.name' 无效，因为该列没有包含在聚合函数或 GROUP BY 子句中。 (8120) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]无法预定义语句。 (8180)")
[SQL: SELECT product.name AS product_name, product.stock AS product_stock, coalesce(sum(sale.quantity), ?) AS sales 
FROM product LEFT OUTER JOIN sale ON sale.product_id = product.product_id AND sale.sale_date BETWEEN ? AND ? GROUP BY product.product_id]
[parameters: (0, datetime.datetime(2024, 6, 16, 15, 17, 19, 925235), datetime.datetime(2024, 7, 16, 15, 17, 19, 925235))]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-07-16 15:17:31,713 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:20:19,534 - app - INFO - Supermarket startup
2024-07-16 15:20:20,308 - app - INFO - Supermarket startup
2024-07-16 15:20:26,603 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:20:29,590 - app - INFO - Accessing sales page
2024-07-16 15:20:30,259 - app - INFO - Accessing purchases page
2024-07-16 15:20:30,777 - app - INFO - Accessing employees page
2024-07-16 15:20:31,249 - app - INFO - Accessing suppliers page
2024-07-16 15:20:32,320 - app - INFO - Supermarket startup
2024-07-16 15:20:34,362 - app - INFO - Accessing suppliers page
2024-07-16 15:20:34,952 - app - INFO - Accessing employees page
2024-07-16 15:20:36,241 - app - INFO - Supermarket startup
2024-07-16 15:20:36,305 - app - INFO - Accessing purchases page
2024-07-16 15:20:38,202 - app - INFO - Supermarket startup
2024-07-16 15:20:38,257 - app - INFO - Accessing sales page
2024-07-16 15:20:40,283 - app - INFO - Supermarket startup
2024-07-16 15:20:40,337 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:20:46,012 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:20:54,538 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:20:54,540 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:20:54,543 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:20:54,557 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:20:54,558 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:20:56,125 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:20:56,127 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:20:56,128 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:20:56,135 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:20:56,137 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:20:57,339 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:20:57,341 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:20:57,343 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:20:57,352 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:20:57,352 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:21:01,955 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:21:04,165 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:21:04,167 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:21:04,168 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:21:04,179 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:21:04,180 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:32:49,492 - app - INFO - Supermarket startup
2024-07-16 15:32:50,221 - app - INFO - Supermarket startup
2024-07-16 15:32:53,472 - app - INFO - Fetching inventory list
2024-07-16 15:32:53,474 - app - INFO - Found 3 products
2024-07-16 15:32:53,481 - app - INFO - Successfully prepared inventory data
2024-07-16 15:32:59,774 - app - INFO - Starting to generate inventory report
2024-07-16 15:32:59,789 - app - INFO - Inventory report generated successfully
2024-07-16 15:34:05,187 - app - INFO - Supermarket startup
2024-07-16 15:34:05,887 - app - INFO - Supermarket startup
2024-07-16 15:34:29,449 - app - INFO - Accessing suppliers page
2024-07-16 15:34:30,275 - app - INFO - Accessing employees page
2024-07-16 15:34:31,124 - app - INFO - Accessing purchases page
2024-07-16 15:34:33,815 - app - INFO - Fetching inventory list
2024-07-16 15:34:33,818 - app - INFO - Found 3 products
2024-07-16 15:34:33,826 - app - INFO - Successfully prepared inventory data
2024-07-16 15:34:39,683 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:34:41,021 - app - INFO - Fetching inventory list
2024-07-16 15:34:41,024 - app - INFO - Found 3 products
2024-07-16 15:34:41,030 - app - INFO - Successfully prepared inventory data
2024-07-16 15:34:58,616 - app - INFO - Supermarket startup
2024-07-16 15:34:59,313 - app - INFO - Supermarket startup
2024-07-16 15:35:03,883 - app - INFO - Fetching inventory list
2024-07-16 15:35:03,885 - app - INFO - Found 3 products
2024-07-16 15:35:03,889 - app - INFO - Successfully prepared inventory data
2024-07-16 15:36:32,989 - app - INFO - Supermarket startup
2024-07-16 15:36:34,134 - app - INFO - Supermarket startup
2024-07-16 15:36:38,212 - app - INFO - Accessing suppliers page
2024-07-16 15:36:39,044 - app - INFO - Accessing employees page
2024-07-16 15:36:39,751 - app - INFO - Accessing purchases page
2024-07-16 15:36:40,436 - app - INFO - Accessing sales page
2024-07-16 15:36:41,173 - app - INFO - Fetching inventory list
2024-07-16 15:36:41,175 - app - INFO - Found 3 products
2024-07-16 15:36:41,181 - app - INFO - Successfully prepared inventory data
2024-07-16 15:36:42,548 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:36:43,788 - app - INFO - Fetching inventory list
2024-07-16 15:36:43,790 - app - INFO - Found 3 products
2024-07-16 15:36:43,795 - app - INFO - Successfully prepared inventory data
2024-07-16 15:37:52,473 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:37:52,473 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:37:52,473 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:37:52,474 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:37:52,475 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:37:58,640 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:37:58,642 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:37:58,655 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:37:58,657 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:37:58,662 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:38:01,230 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:38:01,232 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:38:01,236 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:38:01,249 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:38:01,251 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:38:02,600 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:38:02,602 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:38:02,605 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:38:02,618 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:38:02,621 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:38:03,528 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:38:03,532 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:38:03,540 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:38:03,551 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:38:03,559 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:38:04,041 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:38:04,043 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:38:04,049 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:38:04,063 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:38:04,066 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:38:04,354 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:38:04,356 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:38:04,359 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:38:04,401 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:38:04,408 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:38:04,546 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:38:04,548 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:38:04,551 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:38:04,561 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:38:04,567 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:38:04,721 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:38:04,724 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:38:04,726 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:38:04,739 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:38:04,742 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:46:39,428 - app - INFO - Supermarket startup
2024-07-16 15:46:40,312 - app - INFO - Supermarket startup
2024-07-16 15:46:49,237 - app - INFO - Accessing suppliers page
2024-07-16 15:46:50,168 - app - INFO - Accessing employees page
2024-07-16 15:46:50,914 - app - INFO - Accessing purchases page
2024-07-16 15:46:52,324 - app - INFO - Supermarket startup
2024-07-16 15:46:52,384 - app - INFO - Accessing sales page
2024-07-16 15:46:52,989 - app - INFO - Fetching inventory list
2024-07-16 15:46:52,994 - app - INFO - Found 3 products
2024-07-16 15:46:53,000 - app - INFO - Successfully prepared inventory data
2024-07-16 15:46:54,261 - app - INFO - Supermarket startup
2024-07-16 15:46:54,699 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 15:46:57,524 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 15:46:57,526 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 15:46:57,528 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 15:46:57,530 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 15:46:57,531 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 15:47:24,262 - app - INFO - Accessing suppliers page
2024-07-16 15:47:25,293 - app - INFO - Accessing employees page
2024-07-16 15:47:25,968 - app - INFO - Accessing purchases page
2024-07-16 15:47:26,906 - app - INFO - Accessing sales page
2024-07-16 15:47:27,632 - app - INFO - Fetching inventory list
2024-07-16 15:47:27,637 - app - INFO - Found 3 products
2024-07-16 15:47:27,647 - app - INFO - Successfully prepared inventory data
2024-07-16 15:47:28,032 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 16:03:26,772 - app - INFO - Supermarket startup
2024-07-16 16:03:27,482 - app - INFO - Supermarket startup
2024-07-16 16:03:34,139 - app - INFO - Accessing suppliers page
2024-07-16 16:03:38,095 - app - INFO - Accessing suppliers page
2024-07-16 16:03:41,207 - app - INFO - Accessing employees page
2024-07-16 16:03:43,569 - app - INFO - Accessing purchases page
2024-07-16 16:03:45,247 - app - INFO - Accessing sales page
2024-07-16 16:03:47,606 - app - INFO - Fetching inventory list
2024-07-16 16:03:47,608 - app - INFO - Found 3 products
2024-07-16 16:03:47,617 - app - INFO - Successfully prepared inventory data
2024-07-16 16:03:48,791 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 16:03:51,305 - app - INFO - Fetching inventory list
2024-07-16 16:03:51,307 - app - INFO - Found 3 products
2024-07-16 16:03:51,312 - app - INFO - Successfully prepared inventory data
2024-07-16 16:03:54,872 - app - INFO - Accessing suppliers page
2024-07-16 16:04:04,716 - app - INFO - Deleting supplier with id: 19
2024-07-16 16:04:05,005 - app - INFO - Supplier deleted successfully: 时尚服饰集团
2024-07-16 16:04:06,046 - app - INFO - Accessing suppliers page
2024-07-16 16:04:07,449 - app - INFO - Deleting supplier with id: 18
2024-07-16 16:04:07,463 - app - INFO - Supplier deleted successfully: 电子科技有限公司
2024-07-16 16:04:08,199 - app - INFO - Accessing suppliers page
2024-07-16 16:04:09,758 - app - INFO - Deleting supplier with id: 17
2024-07-16 16:04:09,771 - app - INFO - Supplier deleted successfully: 日用品批发商
2024-07-16 16:04:11,018 - app - INFO - Accessing suppliers page
2024-07-16 16:04:16,637 - app - INFO - Deleting supplier with id: 16
2024-07-16 16:04:16,647 - app - INFO - Supplier deleted successfully: 全球饮料集团
2024-07-16 16:04:17,178 - app - INFO - Deleting supplier with id: 16
2024-07-16 16:04:17,181 - app - ERROR - Error deleting supplier: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2024-07-16 16:04:17,892 - app - INFO - Accessing suppliers page
2024-07-16 16:04:20,894 - app - INFO - Deleting supplier with id: 15
2024-07-16 16:04:20,906 - app - INFO - Supplier deleted successfully: 优质食品有限公司
2024-07-16 16:04:21,539 - app - INFO - Accessing suppliers page
2024-07-16 16:04:29,624 - app - INFO - Deleting supplier with id: 11
2024-07-16 16:04:30,162 - app - INFO - Supplier deleted successfully: 全球饮料集团
2024-07-16 16:04:30,822 - app - INFO - Accessing suppliers page
2024-07-16 16:04:33,866 - app - INFO - Deleting supplier with id: 10
2024-07-16 16:04:33,877 - app - INFO - Supplier deleted successfully: 优质食品有限公司
2024-07-16 16:04:34,658 - app - INFO - Accessing suppliers page
2024-07-16 16:04:40,383 - app - INFO - Accessing employees page
2024-07-16 16:04:44,957 - app - INFO - Deleting employee with id: 2
2024-07-16 16:04:45,020 - app - INFO - Employee deleted successfully: 钱
2024-07-16 16:04:46,028 - app - INFO - Accessing employees page
2024-07-16 16:04:49,271 - app - INFO - Deleting employee with id: 9
2024-07-16 16:04:49,296 - app - INFO - Employee deleted successfully: 赵丽
2024-07-16 16:04:50,979 - app - INFO - Accessing employees page
2024-07-16 16:05:03,099 - app - INFO - Accessing suppliers page
2024-07-16 16:05:05,556 - app - INFO - Accessing suppliers page
2024-07-16 16:05:06,283 - app - INFO - Accessing employees page
2024-07-16 16:05:06,987 - app - INFO - Accessing purchases page
2024-07-16 16:05:07,958 - app - INFO - Accessing sales page
2024-07-16 16:05:08,657 - app - INFO - Fetching inventory list
2024-07-16 16:05:08,659 - app - INFO - Found 3 products
2024-07-16 16:05:08,667 - app - INFO - Successfully prepared inventory data
2024-07-16 16:05:09,579 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 16:07:35,098 - app - INFO - Supermarket startup
2024-07-16 16:07:35,753 - app - INFO - Supermarket startup
2024-07-16 16:07:39,354 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 16:07:42,053 - app - INFO - Fetching inventory list
2024-07-16 16:07:42,055 - app - INFO - Found 3 products
2024-07-16 16:07:42,061 - app - INFO - Successfully prepared inventory data
2024-07-16 16:07:43,363 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 16:07:44,422 - app - INFO - Fetching inventory list
2024-07-16 16:07:44,424 - app - INFO - Found 3 products
2024-07-16 16:07:44,427 - app - INFO - Successfully prepared inventory data
2024-07-16 16:07:44,901 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 16:07:45,712 - app - INFO - Fetching inventory list
2024-07-16 16:07:45,714 - app - INFO - Found 3 products
2024-07-16 16:07:45,717 - app - INFO - Successfully prepared inventory data
2024-07-16 16:07:46,074 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 16:07:57,546 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 16:07:57,547 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 16:07:57,550 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 16:07:57,553 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 16:07:57,558 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 16:09:04,792 - app - INFO - Accessing suppliers page
2024-07-16 16:09:05,397 - app - INFO - Accessing employees page
2024-07-16 16:09:06,289 - app - INFO - Accessing purchases page
2024-07-16 16:09:07,998 - app - INFO - Accessing sales page
2024-07-16 21:12:09,825 - app - INFO - Supermarket startup
2024-07-16 21:12:11,104 - app - INFO - Supermarket startup
2024-07-16 21:12:20,209 - app - INFO - Accessing suppliers page
2024-07-16 21:12:21,209 - app - INFO - Accessing employees page
2024-07-16 21:12:22,348 - app - INFO - Accessing purchases page
2024-07-16 21:12:23,698 - app - INFO - Fetching inventory list
2024-07-16 21:12:23,700 - app - INFO - Found 3 products
2024-07-16 21:12:23,709 - app - INFO - Successfully prepared inventory data
2024-07-16 21:12:25,443 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 21:12:27,669 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:12:27,670 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:12:27,671 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:12:27,672 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:12:27,674 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:12:29,375 - app - INFO - Supermarket startup
2024-07-16 21:13:09,584 - app - INFO - Supermarket startup
2024-07-16 21:13:10,300 - app - INFO - Supermarket startup
2024-07-16 21:13:13,023 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 21:13:14,452 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:13:14,453 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:13:14,458 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:13:14,460 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:13:14,462 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:13:16,128 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:13:17,981 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:13:18,700 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:13:18,783 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:13:18,800 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:13:18,805 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:13:18,813 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:13:18,819 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:13:18,822 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:13:18,828 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:13:18,836 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:13:18,839 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:13:18,845 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:13:18,850 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:13:18,858 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:13:18,878 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:13:18,881 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:13:18,882 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:13:18,883 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:13:18,886 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:19:14,507 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 21:20:20,119 - app - INFO - Accessing suppliers page
2024-07-16 21:20:24,462 - app - INFO - Accessing employees page
2024-07-16 21:20:25,159 - app - INFO - Accessing suppliers page
2024-07-16 21:20:35,531 - app - INFO - Accessing suppliers page
2024-07-16 21:20:37,515 - app - INFO - Accessing employees page
2024-07-16 21:22:08,643 - app - INFO - Accessing suppliers page
2024-07-16 21:22:16,479 - app - INFO - Accessing suppliers page
2024-07-16 21:22:19,288 - app - INFO - Accessing employees page
2024-07-16 21:25:48,924 - app - INFO - Supermarket startup
2024-07-16 21:25:49,803 - app - INFO - Supermarket startup
2024-07-16 21:27:25,712 - app - INFO - Supermarket startup
2024-07-16 21:27:26,414 - app - INFO - Supermarket startup
2024-07-16 21:34:23,060 - app - INFO - Accessing suppliers page
2024-07-16 21:34:26,993 - app - INFO - Accessing employees page
2024-07-16 21:34:29,725 - app - INFO - Accessing purchases page
2024-07-16 21:34:33,692 - app - INFO - Accessing sales page
2024-07-16 21:34:38,118 - app - INFO - Fetching inventory list
2024-07-16 21:34:38,121 - app - INFO - Found 9 products
2024-07-16 21:34:38,128 - app - INFO - Successfully prepared inventory data
2024-07-16 21:34:38,968 - app - INFO - Starting to generate inventory report
2024-07-16 21:34:38,977 - app - INFO - Inventory report generated successfully
2024-07-16 21:42:37,719 - app - INFO - Supermarket startup
2024-07-16 21:42:38,555 - app - INFO - Supermarket startup
2024-07-16 21:44:57,883 - app - INFO - Accessing suppliers page
2024-07-16 21:45:03,307 - app - INFO - Accessing employees page
2024-07-16 21:45:04,969 - app - INFO - Accessing suppliers page
2024-07-16 21:45:05,735 - app - INFO - Accessing employees page
2024-07-16 21:45:07,143 - app - INFO - Accessing purchases page
2024-07-16 21:45:23,052 - app - INFO - Accessing purchases page
2024-07-16 21:45:25,658 - app - INFO - Fetching purchase with id: 25
2024-07-16 21:45:25,669 - app - INFO - Returning purchase data: {'id': 25, 'product_name': '矿泉水', 'supplier_name': '优质食品有限公司', 'quantity': 2, 'unit_price': 1.0, 'purchase_date': '2024-07-14', 'purchase_id': 25, 'product_id': 8, 'supplier_id': 1}
2024-07-16 21:45:25,676 - app - INFO - Fetching purchase with id: 25
2024-07-16 21:45:25,682 - app - INFO - Returning purchase data: {'id': 25, 'product_name': '矿泉水', 'supplier_name': '优质食品有限公司', 'quantity': 2, 'unit_price': 1.0, 'purchase_date': '2024-07-14', 'purchase_id': 25, 'product_id': 8, 'supplier_id': 1}
2024-07-16 21:45:41,192 - app - INFO - Editing purchase with id: 25
2024-07-16 21:45:41,193 - app - INFO - Received edit data: {'id': '25', 'product_id': '8', 'supplier_id': '1', 'quantity': '50', 'unit_price': '1', 'purchase_date': '2024-07-14'}
2024-07-16 21:45:41,473 - app - INFO - Successfully updated purchase: 25
2024-07-16 21:46:22,516 - app - INFO - Adding new purchase
2024-07-16 21:46:22,541 - app - INFO - Successfully added new purchase for product ID: 9
2024-07-16 21:46:52,703 - app - INFO - Adding new purchase
2024-07-16 21:46:54,426 - app - INFO - Adding new purchase
2024-07-16 21:46:54,452 - app - INFO - Successfully added new purchase for product ID: 10
2024-07-16 21:46:54,963 - app - INFO - Successfully added new purchase for product ID: 10
2024-07-16 21:47:01,438 - app - INFO - Deleting purchase with id: 34
2024-07-16 21:47:01,461 - app - INFO - Successfully deleted purchase: 34
2024-07-16 21:47:23,629 - app - INFO - Adding new purchase
2024-07-16 21:47:23,637 - app - INFO - Successfully added new purchase for product ID: 43
2024-07-16 21:48:28,171 - app - INFO - Adding new purchase
2024-07-16 21:48:28,193 - app - INFO - Successfully added new purchase for product ID: 43
2024-07-16 21:48:33,785 - app - INFO - Deleting purchase with id: 36
2024-07-16 21:48:33,802 - app - INFO - Successfully deleted purchase: 36
2024-07-16 21:48:48,598 - app - INFO - Accessing purchases page
2024-07-16 21:48:50,194 - app - INFO - Accessing purchases page
2024-07-16 21:48:50,786 - app - INFO - Accessing employees page
2024-07-16 21:48:51,324 - app - INFO - Accessing purchases page
2024-07-16 21:48:52,281 - app - INFO - Accessing purchases page
2024-07-16 21:48:52,714 - app - INFO - Accessing purchases page
2024-07-16 21:48:53,765 - app - INFO - Supermarket startup
2024-07-16 21:48:53,835 - app - INFO - Accessing purchases page
2024-07-16 21:48:53,927 - app - INFO - Accessing sales page
2024-07-16 21:48:55,718 - app - INFO - Supermarket startup
2024-07-16 21:48:58,572 - app - INFO - Fetching sale with id: 18
2024-07-16 21:48:58,679 - app - INFO - Returning sale data: {'id': 18, 'product_name': '矿泉水', 'employee_name': '赵丽', 'quantity': 3, 'unit_price': 2.0, 'total_price': 6.0, 'sale_date': '2024-06-15', 'sale_id': 18, 'product_id': 8, 'employee_id': 1}
2024-07-16 21:48:58,685 - app - INFO - Fetching sale with id: 18
2024-07-16 21:48:58,692 - app - INFO - Returning sale data: {'id': 18, 'product_name': '矿泉水', 'employee_name': '赵丽', 'quantity': 3, 'unit_price': 2.0, 'total_price': 6.0, 'sale_date': '2024-06-15', 'sale_id': 18, 'product_id': 8, 'employee_id': 1}
2024-07-16 21:49:13,553 - app - INFO - Editing sale with id: 18
2024-07-16 21:49:13,555 - app - INFO - Received edit data: {'id': '18', 'product_id': '8', 'employee_id': '10', 'quantity': '3', 'unit_price': '2', 'sale_date': '2024-06-15'}
2024-07-16 21:49:13,590 - app - INFO - Successfully updated sale: 18
2024-07-16 21:49:20,356 - app - INFO - Fetching sale with id: 19
2024-07-16 21:49:20,362 - app - INFO - Returning sale data: {'id': 19, 'product_name': '牙刷', 'employee_name': '赵丽', 'quantity': 9, 'unit_price': 2.0, 'total_price': 18.0, 'sale_date': '2024-06-15', 'sale_id': 19, 'product_id': 9, 'employee_id': 1}
2024-07-16 21:49:20,393 - app - INFO - Fetching sale with id: 19
2024-07-16 21:49:20,400 - app - INFO - Returning sale data: {'id': 19, 'product_name': '牙刷', 'employee_name': '赵丽', 'quantity': 9, 'unit_price': 2.0, 'total_price': 18.0, 'sale_date': '2024-06-15', 'sale_id': 19, 'product_id': 9, 'employee_id': 1}
2024-07-16 21:49:30,213 - app - INFO - Editing sale with id: 19
2024-07-16 21:49:30,216 - app - INFO - Received edit data: {'id': '19', 'product_id': '9', 'employee_id': '12', 'quantity': '9', 'unit_price': '5', 'sale_date': '2024-06-15'}
2024-07-16 21:49:30,229 - app - INFO - Successfully updated sale: 19
2024-07-16 21:49:37,397 - app - INFO - Fetching sale with id: 20
2024-07-16 21:49:37,404 - app - INFO - Returning sale data: {'id': 20, 'product_name': '矿泉水', 'employee_name': '赵丽', 'quantity': 4, 'unit_price': 4.0, 'total_price': 16.0, 'sale_date': '2024-07-10', 'sale_id': 20, 'product_id': 8, 'employee_id': 1}
2024-07-16 21:49:37,408 - app - INFO - Fetching sale with id: 20
2024-07-16 21:49:37,416 - app - INFO - Returning sale data: {'id': 20, 'product_name': '矿泉水', 'employee_name': '赵丽', 'quantity': 4, 'unit_price': 4.0, 'total_price': 16.0, 'sale_date': '2024-07-10', 'sale_id': 20, 'product_id': 8, 'employee_id': 1}
2024-07-16 21:49:43,218 - app - INFO - Editing sale with id: 20
2024-07-16 21:49:43,220 - app - INFO - Received edit data: {'id': '20', 'product_id': '8', 'employee_id': '1', 'quantity': '2', 'unit_price': '4', 'sale_date': '2024-07-10'}
2024-07-16 21:49:43,236 - app - INFO - Successfully updated sale: 20
2024-07-16 21:49:48,420 - app - INFO - Fetching sale with id: 22
2024-07-16 21:49:48,429 - app - INFO - Returning sale data: {'id': 22, 'product_name': '矿泉水', 'employee_name': '赵丽', 'quantity': 6, 'unit_price': 4.0, 'total_price': 24.0, 'sale_date': '2024-07-10', 'sale_id': 22, 'product_id': 8, 'employee_id': 1}
2024-07-16 21:49:48,435 - app - INFO - Fetching sale with id: 22
2024-07-16 21:49:48,441 - app - INFO - Returning sale data: {'id': 22, 'product_name': '矿泉水', 'employee_name': '赵丽', 'quantity': 6, 'unit_price': 4.0, 'total_price': 24.0, 'sale_date': '2024-07-10', 'sale_id': 22, 'product_id': 8, 'employee_id': 1}
2024-07-16 21:49:55,443 - app - INFO - Editing sale with id: 22
2024-07-16 21:49:55,444 - app - INFO - Received edit data: {'id': '22', 'product_id': '8', 'employee_id': '13', 'quantity': '6', 'unit_price': '2', 'sale_date': '2024-07-10'}
2024-07-16 21:49:55,453 - app - INFO - Successfully updated sale: 22
2024-07-16 21:49:59,920 - app - INFO - Fetching sale with id: 20
2024-07-16 21:49:59,926 - app - INFO - Returning sale data: {'id': 20, 'product_name': '矿泉水', 'employee_name': '赵丽', 'quantity': 2, 'unit_price': 4.0, 'total_price': 8.0, 'sale_date': '2024-07-10', 'sale_id': 20, 'product_id': 8, 'employee_id': 1}
2024-07-16 21:49:59,932 - app - INFO - Fetching sale with id: 20
2024-07-16 21:49:59,938 - app - INFO - Returning sale data: {'id': 20, 'product_name': '矿泉水', 'employee_name': '赵丽', 'quantity': 2, 'unit_price': 4.0, 'total_price': 8.0, 'sale_date': '2024-07-10', 'sale_id': 20, 'product_id': 8, 'employee_id': 1}
2024-07-16 21:50:05,595 - app - INFO - Editing sale with id: 20
2024-07-16 21:50:05,597 - app - INFO - Received edit data: {'id': '20', 'product_id': '8', 'employee_id': '1', 'quantity': '2', 'unit_price': '2', 'sale_date': '2024-07-10'}
2024-07-16 21:50:05,609 - app - INFO - Successfully updated sale: 20
2024-07-16 21:50:07,694 - app - INFO - Fetching sale with id: 18
2024-07-16 21:50:07,718 - app - INFO - Returning sale data: {'id': 18, 'product_name': '矿泉水', 'employee_name': '钱冰', 'quantity': 3, 'unit_price': 2.0, 'total_price': 6.0, 'sale_date': '2024-06-15', 'sale_id': 18, 'product_id': 8, 'employee_id': 10}
2024-07-16 21:50:07,721 - app - INFO - Fetching sale with id: 18
2024-07-16 21:50:07,728 - app - INFO - Returning sale data: {'id': 18, 'product_name': '矿泉水', 'employee_name': '钱冰', 'quantity': 3, 'unit_price': 2.0, 'total_price': 6.0, 'sale_date': '2024-06-15', 'sale_id': 18, 'product_id': 8, 'employee_id': 10}
2024-07-16 21:50:52,822 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 21:50:54,044 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:50:54,046 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:50:54,047 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:50:54,049 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:50:54,050 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:52:04,235 - app - INFO - Accessing suppliers page
2024-07-16 21:52:05,844 - app - INFO - Supermarket startup
2024-07-16 21:52:05,900 - app - INFO - Accessing employees page
2024-07-16 21:52:07,730 - app - INFO - Supermarket startup
2024-07-16 21:52:07,783 - app - INFO - Accessing sales page
2024-07-16 21:52:10,447 - app - INFO - Fetching inventory list
2024-07-16 21:52:10,452 - app - INFO - Found 13 products
2024-07-16 21:52:10,464 - app - INFO - Successfully prepared inventory data
2024-07-16 21:52:11,607 - app - INFO - Supermarket startup
2024-07-16 21:52:14,411 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 21:52:16,313 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:52:16,330 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:52:16,331 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:52:16,333 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:52:16,335 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:54:07,004 - app - INFO - Supermarket startup
2024-07-16 21:54:07,861 - app - INFO - Supermarket startup
2024-07-16 21:55:19,277 - app - INFO - Supermarket startup
2024-07-16 21:55:19,973 - app - INFO - Supermarket startup
2024-07-16 21:55:24,874 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 21:55:26,329 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:55:26,330 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:55:26,334 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:55:26,336 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:55:26,338 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:56:03,023 - app - INFO - Supermarket startup
2024-07-16 21:56:03,789 - app - INFO - Supermarket startup
2024-07-16 21:56:07,616 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 21:56:09,083 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:56:09,097 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:56:09,100 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:56:09,104 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:56:09,106 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:59:30,158 - app - INFO - Supermarket startup
2024-07-16 21:59:30,825 - app - INFO - Supermarket startup
2024-07-16 21:59:35,057 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 21:59:36,276 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 21:59:36,277 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:59:36,281 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:59:36,284 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:59:36,287 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:59:41,707 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:59:41,717 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:59:41,728 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:59:41,758 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 21:59:44,177 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 21:59:44,187 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 21:59:44,197 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 21:59:44,218 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:00:01,269 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 22:00:06,668 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 22:00:06,669 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 22:00:06,671 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 22:00:06,673 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 22:00:06,677 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:06:32,900 - app - INFO - Supermarket startup
2024-07-16 22:07:02,123 - app - INFO - Supermarket startup
2024-07-16 22:07:22,183 - app - INFO - Supermarket startup
2024-07-16 22:21:27,037 - app - INFO - Supermarket startup
2024-07-16 22:21:29,716 - app - INFO - Supermarket startup
2024-07-16 22:21:36,241 - app - INFO - Supermarket startup
2024-07-16 22:21:36,929 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 22:21:42,813 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 22:21:42,814 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 22:21:42,818 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 22:21:42,825 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 22:21:42,826 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:21:48,602 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 22:21:48,612 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 22:21:48,622 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 22:21:48,644 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:21:51,395 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 22:21:51,405 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 22:21:51,415 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 22:21:51,442 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:22:08,497 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 22:22:12,257 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 22:22:12,259 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 22:22:12,261 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 22:22:12,266 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 22:22:12,269 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:22:25,094 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 22:22:25,105 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 22:22:25,116 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 22:22:25,140 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:24:39,293 - app - INFO - Supermarket startup
2024-07-16 22:24:40,478 - app - INFO - Supermarket startup
2024-07-16 22:24:47,708 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 22:24:49,247 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 22:24:49,249 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 22:24:49,251 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 22:24:49,253 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 22:24:49,254 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:31:38,626 - app - INFO - Accessing suppliers page
2024-07-16 22:31:39,570 - app - INFO - Accessing employees page
2024-07-16 22:31:41,828 - app.routes.analysis - INFO - Rendering analysis page
2024-07-16 22:31:45,606 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-16 22:31:45,607 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-16 22:31:45,609 - app.routes.analysis - INFO - Top products analysis requested
2024-07-16 22:31:45,611 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-16 22:31:45,612 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-16 22:32:03,897 - app - INFO - Fetching inventory list
2024-07-16 22:32:03,907 - app - INFO - Found 13 products
2024-07-16 22:32:03,917 - app - INFO - Successfully prepared inventory data
2024-07-16 22:32:05,129 - app - INFO - Supermarket startup
2024-07-16 22:32:09,038 - app - INFO - Starting to generate inventory report
2024-07-16 22:32:09,337 - app - INFO - Inventory report generated successfully
2024-07-16 22:32:22,886 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 08:22:38,557 - app - INFO - Supermarket startup
2024-07-17 08:22:40,662 - app - INFO - Supermarket startup
2024-07-17 08:22:46,938 - app - INFO - Supermarket startup
2024-07-17 08:29:46,061 - app - INFO - Supermarket startup
2024-07-17 08:29:47,377 - app - INFO - Supermarket startup
2024-07-17 08:30:35,963 - app - INFO - Supermarket startup
2024-07-17 08:30:37,211 - app - INFO - Supermarket startup
2024-07-17 08:30:40,622 - app - INFO - Supermarket startup
2024-07-17 08:36:38,460 - app - INFO - Supermarket startup
2024-07-17 08:36:39,697 - app - INFO - Supermarket startup
2024-07-17 08:38:09,083 - app - INFO - Supermarket startup
2024-07-17 08:38:10,347 - app - INFO - Supermarket startup
2024-07-17 08:38:34,149 - app - INFO - Supermarket startup
2024-07-17 08:38:35,370 - app - INFO - Supermarket startup
2024-07-17 08:38:53,902 - app - INFO - Supermarket startup
2024-07-17 08:38:55,164 - app - INFO - Supermarket startup
2024-07-17 08:39:00,437 - app - INFO - Supermarket startup
2024-07-17 08:39:01,711 - app - INFO - Supermarket startup
2024-07-17 08:39:11,189 - app - INFO - Accessing suppliers page
2024-07-17 08:39:12,855 - app - INFO - Accessing employees page
2024-07-17 08:39:15,851 - app - INFO - Accessing sales page
2024-07-17 08:39:16,901 - app - INFO - Fetching inventory list
2024-07-17 08:39:16,905 - app - INFO - Found 13 products
2024-07-17 08:39:16,924 - app - INFO - Successfully prepared inventory data
2024-07-17 08:39:18,215 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 08:39:44,722 - app - INFO - Supermarket startup
2024-07-17 08:39:45,932 - app - INFO - Supermarket startup
2024-07-17 08:39:53,684 - app - INFO - Accessing suppliers page
2024-07-17 08:39:53,952 - app - INFO - Accessing employees page
2024-07-17 08:44:01,493 - app - INFO - Supermarket startup
2024-07-17 08:44:02,718 - app - INFO - Supermarket startup
2024-07-17 08:46:49,071 - app - INFO - Supermarket startup
2024-07-17 08:46:50,307 - app - INFO - Supermarket startup
2024-07-17 08:47:12,256 - app - INFO - Accessing suppliers page
2024-07-17 08:47:14,081 - app - INFO - Accessing employees page
2024-07-17 08:47:15,420 - app - INFO - Accessing purchases page
2024-07-17 08:47:17,094 - app - INFO - Accessing sales page
2024-07-17 08:47:19,409 - app - INFO - Accessing sales page
2024-07-17 08:47:20,949 - app - INFO - Fetching inventory list
2024-07-17 08:47:20,952 - app - INFO - Found 13 products
2024-07-17 08:47:20,972 - app - INFO - Successfully prepared inventory data
2024-07-17 08:47:29,917 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 08:47:31,399 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 08:47:31,401 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 08:47:31,405 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 08:47:31,407 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 08:47:31,413 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 08:51:49,172 - app - INFO - Supermarket startup
2024-07-17 08:51:50,526 - app - INFO - Supermarket startup
2024-07-17 08:52:25,951 - app - INFO - Accessing employees page
2024-07-17 08:52:26,858 - app - INFO - Accessing purchases page
2024-07-17 08:52:28,266 - app - INFO - Accessing sales page
2024-07-17 08:52:28,986 - app - INFO - Fetching inventory list
2024-07-17 08:52:28,990 - app - INFO - Found 13 products
2024-07-17 08:52:29,002 - app - INFO - Successfully prepared inventory data
2024-07-17 08:52:29,520 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 08:52:31,291 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 08:52:31,292 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 08:52:31,295 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 08:52:31,299 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 08:52:31,303 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 08:52:33,945 - app - INFO - Fetching inventory list
2024-07-17 08:52:33,948 - app - INFO - Found 13 products
2024-07-17 08:52:33,961 - app - INFO - Successfully prepared inventory data
2024-07-17 08:52:37,427 - app - INFO - Accessing sales page
2024-07-17 08:53:10,413 - app - INFO - Accessing sales page
2024-07-17 08:53:36,150 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 08:53:38,851 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 08:53:38,853 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 08:53:38,855 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 08:53:38,858 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 08:53:38,865 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 08:55:15,759 - app - INFO - Supermarket startup
2024-07-17 08:55:16,978 - app - INFO - Supermarket startup
2024-07-17 08:55:34,103 - app - INFO - Supermarket startup
2024-07-17 08:55:35,384 - app - INFO - Supermarket startup
2024-07-17 08:56:48,022 - app - INFO - Supermarket startup
2024-07-17 08:56:49,262 - app - INFO - Supermarket startup
2024-07-17 09:03:39,283 - app - INFO - Supermarket startup
2024-07-17 09:03:40,632 - app - INFO - Supermarket startup
2024-07-17 09:03:50,200 - app - INFO - Supermarket startup
2024-07-17 09:03:51,371 - app - INFO - Supermarket startup
2024-07-17 09:04:19,405 - app - INFO - Fetching inventory list
2024-07-17 09:04:19,410 - app - INFO - Found 13 products
2024-07-17 09:04:19,430 - app - INFO - Successfully prepared inventory data
2024-07-17 09:04:20,172 - app - INFO - Accessing sales page
2024-07-17 09:04:20,955 - app - INFO - Accessing purchases page
2024-07-17 09:04:21,613 - app - INFO - Accessing employees page
2024-07-17 09:04:22,215 - app - INFO - Accessing suppliers page
2024-07-17 09:10:21,014 - app - INFO - Supermarket startup
2024-07-17 09:10:22,338 - app - INFO - Supermarket startup
2024-07-17 09:11:01,966 - app - INFO - Accessing suppliers page
2024-07-17 09:11:03,172 - app - INFO - Accessing employees page
2024-07-17 09:11:04,468 - app - INFO - Accessing purchases page
2024-07-17 09:11:05,377 - app - INFO - Supermarket startup
2024-07-17 09:11:06,027 - app - INFO - Accessing purchases page
2024-07-17 09:11:06,027 - app - INFO - Accessing sales page
2024-07-17 09:11:06,983 - app - INFO - Fetching inventory list
2024-07-17 09:11:06,989 - app - INFO - Found 13 products
2024-07-17 09:11:07,014 - app - INFO - Successfully prepared inventory data
2024-07-17 09:11:07,950 - app - INFO - Supermarket startup
2024-07-17 09:11:08,574 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:11:10,562 - app - INFO - Supermarket startup
2024-07-17 09:11:11,196 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:11:11,201 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:11:11,203 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:11:11,203 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:11:11,205 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:11:26,303 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:11:28,460 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:11:28,467 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:11:28,469 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:11:28,471 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:11:28,473 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:11:42,171 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:11:42,193 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:11:42,207 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:11:42,258 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:11:56,197 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:12:01,665 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:12:01,667 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:12:01,671 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:12:01,675 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:12:01,676 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:12:05,503 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:12:05,517 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:12:05,532 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:12:05,571 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:20:38,528 - app - INFO - Supermarket startup
2024-07-17 09:20:42,203 - app - INFO - Supermarket startup
2024-07-17 09:20:43,296 - app - INFO - Supermarket startup
2024-07-17 09:21:07,263 - app - INFO - Supermarket startup
2024-07-17 09:21:08,443 - app - INFO - Supermarket startup
2024-07-17 09:22:01,457 - app - INFO - Supermarket startup
2024-07-17 09:22:40,482 - app - INFO - Supermarket startup
2024-07-17 09:22:41,767 - app - INFO - Supermarket startup
2024-07-17 09:22:49,993 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:22:51,536 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:22:51,538 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:22:51,543 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:22:51,547 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:22:51,550 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:22:57,250 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:22:57,409 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:22:57,422 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:22:57,448 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:23:02,783 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:23:02,794 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:23:02,804 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:23:02,827 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:23:05,838 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:23:05,847 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:23:05,858 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:23:05,881 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:25:12,330 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:25:12,362 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:25:12,381 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:25:12,435 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:29:48,601 - app - INFO - Supermarket startup
2024-07-17 09:29:49,841 - app - INFO - Supermarket startup
2024-07-17 09:29:56,597 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:30:29,068 - app - INFO - Supermarket startup
2024-07-17 09:30:30,357 - app - INFO - Supermarket startup
2024-07-17 09:30:34,916 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:31:15,364 - app - INFO - Supermarket startup
2024-07-17 09:31:16,725 - app - INFO - Supermarket startup
2024-07-17 09:31:22,788 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:31:23,788 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:31:23,788 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:31:23,789 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:31:23,790 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:31:23,792 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:39:24,458 - app - INFO - Supermarket startup
2024-07-17 09:39:26,200 - app - INFO - Supermarket startup
2024-07-17 09:39:31,324 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:39:32,628 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:39:32,636 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:39:32,637 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:39:32,640 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:39:32,643 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:39:37,585 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:39:37,595 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:39:37,604 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:39:37,625 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:39:37,731 - app.routes.analysis - ERROR - Error in generate_report: send_file() got an unexpected keyword argument 'attachment_filename'
2024-07-17 09:39:37,733 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 229, in generate_report
    return send_file(
TypeError: send_file() got an unexpected keyword argument 'attachment_filename'

2024-07-17 09:39:41,627 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:39:41,639 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:39:41,652 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:39:41,684 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:39:41,947 - app.routes.analysis - ERROR - Error in generate_report: send_file() got an unexpected keyword argument 'attachment_filename'
2024-07-17 09:39:41,948 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 229, in generate_report
    return send_file(
TypeError: send_file() got an unexpected keyword argument 'attachment_filename'

2024-07-17 09:43:29,720 - app - INFO - Supermarket startup
2024-07-17 09:43:31,106 - app - INFO - Supermarket startup
2024-07-17 09:43:34,605 - app - INFO - Supermarket startup
2024-07-17 09:43:36,896 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:43:38,085 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:43:38,088 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:43:38,091 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:43:38,092 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:43:38,094 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:43:42,658 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:43:42,669 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:43:42,679 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:43:42,700 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:43:42,982 - app.routes.analysis - ERROR - Error in generate_report: send_file() got an unexpected keyword argument 'cache_timeout'
2024-07-17 09:43:42,983 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 229, in generate_report
    return send_file(
TypeError: send_file() got an unexpected keyword argument 'cache_timeout'

2024-07-17 09:43:55,737 - app - INFO - Supermarket startup
2024-07-17 09:43:56,942 - app - INFO - Supermarket startup
2024-07-17 09:43:59,553 - app - INFO - Supermarket startup
2024-07-17 09:44:01,810 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:44:03,038 - app - INFO - Supermarket startup
2024-07-17 09:44:03,646 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:44:03,647 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:44:03,648 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:44:03,649 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:44:03,650 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:44:06,612 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:44:06,623 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:44:06,636 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:44:06,656 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:44:34,940 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:44:34,976 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:44:34,992 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:44:35,033 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:53:21,208 - app - INFO - Supermarket startup
2024-07-17 09:53:25,807 - app - INFO - Supermarket startup
2024-07-17 09:53:48,556 - app - INFO - Supermarket startup
2024-07-17 09:53:56,069 - app - INFO - Supermarket startup
2024-07-17 09:54:26,864 - app - INFO - Supermarket startup
2024-07-17 09:54:40,436 - app - INFO - Supermarket startup
2024-07-17 09:54:54,152 - app - INFO - Supermarket startup
2024-07-17 09:55:44,325 - app - INFO - Supermarket startup
2024-07-17 09:56:08,134 - app - INFO - Supermarket startup
2024-07-17 09:57:03,794 - app - INFO - Supermarket startup
2024-07-17 09:57:05,222 - app - INFO - Supermarket startup
2024-07-17 09:57:11,951 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 09:57:13,271 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 09:57:13,273 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:57:13,278 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:57:13,285 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:57:13,287 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:57:16,876 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:57:16,889 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:57:16,901 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:57:16,931 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:57:34,654 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 09:57:34,686 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 09:57:34,700 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 09:57:34,748 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 09:57:34,768 - app.routes.analysis - ERROR - Error in generate_report: Can't open file "path/to/SimSun.ttf"
2024-07-17 09:57:34,798 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 523, in open_for_read
    return open_for_read_by_name(name,mode)
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 463, in open_for_read_by_name
    return open(name,mode)
FileNotFoundError: [Errno 2] No such file or directory: 'path/to/SimSun.ttf'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 530, in open_for_read
    return BytesIO((datareader if name[:5].lower()=='data:' else rlUrlRead)(name))
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 476, in rlUrlRead
    return urlopen(name).read()
  File "E:\Anaconda\lib\urllib\request.py", line 214, in urlopen
    return opener.open(url, data, timeout)
  File "E:\Anaconda\lib\urllib\request.py", line 501, in open
    req = Request(fullurl, data)
  File "E:\Anaconda\lib\urllib\request.py", line 320, in __init__
    self.full_url = url
  File "E:\Anaconda\lib\urllib\request.py", line 346, in full_url
    self._parse()
  File "E:\Anaconda\lib\urllib\request.py", line 375, in _parse
    raise ValueError("unknown url type: %r" % self.full_url)
ValueError: unknown url type: 'path/to/SimSun.ttf'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 151, in TTFOpenFile
    f = open_for_read(fn,'rb')
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 534, in open_for_read
    return open_for_read(name,mode)
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 532, in open_for_read
    raise IOError('Cannot open resource "%s"' % name)
OSError: Cannot open resource "path/to/SimSun.ttf"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 225, in generate_report
    output = generate_pdf_report(report_data)
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 299, in generate_pdf_report
    pdfmetrics.registerFont(TTFont('SimSun', 'path/to/SimSun.ttf'))
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 1178, in __init__
    self.face = TTFontFace(filename, validate=validate, subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 1072, in __init__
    TTFontFile.__init__(self, filename, validate=validate, subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 439, in __init__
    TTFontParser.__init__(self, file, validate=validate,subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 175, in __init__
    self.readFile(file)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 251, in readFile
    self.filename, f = TTFOpenFile(f)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 161, in TTFOpenFile
    raise TTFError('Can\'t open file "%s"' % fn)
reportlab.pdfbase.ttfonts.TTFError: Can't open file "path/to/SimSun.ttf"

2024-07-17 09:57:36,102 - app - INFO - Supermarket startup
2024-07-17 10:02:37,737 - app - INFO - Supermarket startup
2024-07-17 10:02:39,022 - app - INFO - Supermarket startup
2024-07-17 10:02:45,839 - app - INFO - Supermarket startup
2024-07-17 10:02:49,013 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:02:50,288 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 10:02:50,290 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:02:50,291 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:02:50,294 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:02:50,295 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:03:07,112 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:03:07,142 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:03:07,153 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:03:07,197 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:03:10,832 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:03:10,842 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:03:10,852 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:03:10,870 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:14:46,544 - app - INFO - Accessing suppliers page
2024-07-17 10:14:51,494 - app - INFO - Accessing suppliers page
2024-07-17 10:14:53,188 - app - INFO - Fetching supplier with id: 1
2024-07-17 10:14:56,512 - app - INFO - Accessing suppliers page
2024-07-17 10:14:58,226 - app - INFO - Accessing purchases page
2024-07-17 10:15:07,447 - app - INFO - Accessing purchases page
2024-07-17 10:15:08,973 - app - INFO - Fetching inventory list
2024-07-17 10:15:09,065 - app - INFO - Found 13 products
2024-07-17 10:15:09,098 - app - INFO - Successfully prepared inventory data
2024-07-17 10:15:10,787 - app - INFO - Starting to generate inventory report
2024-07-17 10:15:10,803 - app - INFO - Inventory report generated successfully
2024-07-17 10:16:22,118 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:16:26,344 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:16:26,378 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:16:26,394 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:16:26,449 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:20:49,268 - app - INFO - Supermarket startup
2024-07-17 10:21:07,790 - app - INFO - Supermarket startup
2024-07-17 10:21:08,998 - app - INFO - Supermarket startup
2024-07-17 10:21:15,037 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:21:16,253 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 10:21:16,255 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:21:16,260 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:21:16,262 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:21:16,263 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:21:17,564 - app - INFO - Supermarket startup
2024-07-17 10:21:19,736 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:21:19,824 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:21:19,835 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:21:19,855 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:21:30,842 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:21:30,860 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:21:30,874 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:21:30,914 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:22:08,440 - app - INFO - Supermarket startup
2024-07-17 10:22:09,660 - app - INFO - Supermarket startup
2024-07-17 10:24:55,510 - app - INFO - Supermarket startup
2024-07-17 10:24:56,728 - app - INFO - Supermarket startup
2024-07-17 10:25:01,020 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:25:02,368 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 10:25:02,369 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:25:02,371 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:25:02,372 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:25:02,375 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:25:06,541 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:25:06,550 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:25:06,562 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:25:06,583 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:25:06,634 - app.routes.analysis - ERROR - Error in generate_report: 'tuple' object has no attribute 'startswith'
2024-07-17 10:25:06,700 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 229, in generate_report
    return send_file(
  File "E:\Anaconda\lib\site-packages\flask\helpers.py", line 499, in send_file
    return werkzeug.utils.send_file(  # type: ignore[return-value]
  File "E:\Anaconda\lib\site-packages\werkzeug\utils.py", line 488, in send_file
    rv = response_class(
  File "E:\Anaconda\lib\site-packages\werkzeug\wrappers\response.py", line 155, in __init__
    super().__init__(
  File "E:\Anaconda\lib\site-packages\werkzeug\sansio\response.py", line 131, in __init__
    mimetype = get_content_type(mimetype, "utf-8")
  File "E:\Anaconda\lib\site-packages\werkzeug\utils.py", line 186, in get_content_type
    mimetype.startswith("text/")
AttributeError: 'tuple' object has no attribute 'startswith'

2024-07-17 10:25:08,313 - app - INFO - Supermarket startup
2024-07-17 10:25:23,934 - app - INFO - Supermarket startup
2024-07-17 10:25:24,603 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:25:29,985 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:25:30,072 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:25:30,081 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:25:30,098 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:27:47,176 - app - INFO - Supermarket startup
2024-07-17 10:28:00,863 - app - INFO - Supermarket startup
2024-07-17 10:28:34,952 - app - INFO - Supermarket startup
2024-07-17 10:29:15,921 - app - INFO - Supermarket startup
2024-07-17 10:30:09,085 - app - INFO - Supermarket startup
2024-07-17 10:30:11,027 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:30:12,872 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:30:13,173 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:30:13,184 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:30:13,221 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:30:16,398 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:30:16,423 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:30:16,432 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:30:16,477 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:30:16,493 - app.routes.analysis - ERROR - Error in generate_report: Can't open file "path/to/SimSun.ttf"
2024-07-17 10:30:16,496 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 523, in open_for_read
    return open_for_read_by_name(name,mode)
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 463, in open_for_read_by_name
    return open(name,mode)
FileNotFoundError: [Errno 2] No such file or directory: 'path/to/SimSun.ttf'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 530, in open_for_read
    return BytesIO((datareader if name[:5].lower()=='data:' else rlUrlRead)(name))
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 476, in rlUrlRead
    return urlopen(name).read()
  File "E:\Anaconda\lib\urllib\request.py", line 214, in urlopen
    return opener.open(url, data, timeout)
  File "E:\Anaconda\lib\urllib\request.py", line 501, in open
    req = Request(fullurl, data)
  File "E:\Anaconda\lib\urllib\request.py", line 320, in __init__
    self.full_url = url
  File "E:\Anaconda\lib\urllib\request.py", line 346, in full_url
    self._parse()
  File "E:\Anaconda\lib\urllib\request.py", line 375, in _parse
    raise ValueError("unknown url type: %r" % self.full_url)
ValueError: unknown url type: 'path/to/SimSun.ttf'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 151, in TTFOpenFile
    f = open_for_read(fn,'rb')
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 534, in open_for_read
    return open_for_read(name,mode)
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 532, in open_for_read
    raise IOError('Cannot open resource "%s"' % name)
OSError: Cannot open resource "path/to/SimSun.ttf"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 224, in generate_report
    output = generate_pdf_report(report_data)
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 297, in generate_pdf_report
    pdfmetrics.registerFont(TTFont('SimSun', 'path/to/SimSun.ttf'))
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 1178, in __init__
    self.face = TTFontFace(filename, validate=validate, subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 1072, in __init__
    TTFontFile.__init__(self, filename, validate=validate, subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 439, in __init__
    TTFontParser.__init__(self, file, validate=validate,subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 175, in __init__
    self.readFile(file)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 251, in readFile
    self.filename, f = TTFOpenFile(f)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 161, in TTFOpenFile
    raise TTFError('Can\'t open file "%s"' % fn)
reportlab.pdfbase.ttfonts.TTFError: Can't open file "path/to/SimSun.ttf"

2024-07-17 10:38:56,689 - app - INFO - Supermarket startup
2024-07-17 10:39:54,914 - app - INFO - Supermarket startup
2024-07-17 10:40:00,020 - app - INFO - Supermarket startup
2024-07-17 10:40:01,264 - app - INFO - Supermarket startup
2024-07-17 10:40:06,361 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:40:09,735 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:40:11,727 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:40:11,746 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:40:11,804 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:40:11,823 - app.routes.analysis - ERROR - Error in generate_report: Can't open file "E:\My struggle\数据库课设\app\routes\fonts\simsun.ttc"
2024-07-17 10:40:11,825 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 523, in open_for_read
    return open_for_read_by_name(name,mode)
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 463, in open_for_read_by_name
    return open(name,mode)
FileNotFoundError: [Errno 2] No such file or directory: 'E:\\My struggle\\数据库课设\\app\\routes\\fonts\\simsun.ttc'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 530, in open_for_read
    return BytesIO((datareader if name[:5].lower()=='data:' else rlUrlRead)(name))
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 476, in rlUrlRead
    return urlopen(name).read()
  File "E:\Anaconda\lib\urllib\request.py", line 214, in urlopen
    return opener.open(url, data, timeout)
  File "E:\Anaconda\lib\urllib\request.py", line 517, in open
    response = self._open(req, data)
  File "E:\Anaconda\lib\urllib\request.py", line 539, in _open
    return self._call_chain(self.handle_open, 'unknown',
  File "E:\Anaconda\lib\urllib\request.py", line 494, in _call_chain
    result = func(*args)
  File "E:\Anaconda\lib\urllib\request.py", line 1417, in unknown_open
    raise URLError('unknown url type: %s' % type)
urllib.error.URLError: <urlopen error unknown url type: e>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 151, in TTFOpenFile
    f = open_for_read(fn,'rb')
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 534, in open_for_read
    return open_for_read(name,mode)
  File "E:\Anaconda\lib\site-packages\reportlab\lib\utils.py", line 532, in open_for_read
    raise IOError('Cannot open resource "%s"' % name)
OSError: Cannot open resource "E:\My struggle\数据库课设\app\routes\fonts\simsun.ttc"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 225, in generate_report
    output = generate_pdf_report(report_data)
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 301, in generate_pdf_report
    pdfmetrics.registerFont(TTFont('SimSun', font_path))
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 1178, in __init__
    self.face = TTFontFace(filename, validate=validate, subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 1072, in __init__
    TTFontFile.__init__(self, filename, validate=validate, subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 439, in __init__
    TTFontParser.__init__(self, file, validate=validate,subfontIndex=subfontIndex)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 175, in __init__
    self.readFile(file)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 251, in readFile
    self.filename, f = TTFOpenFile(f)
  File "E:\Anaconda\lib\site-packages\reportlab\pdfbase\ttfonts.py", line 161, in TTFOpenFile
    raise TTFError('Can\'t open file "%s"' % fn)
reportlab.pdfbase.ttfonts.TTFError: Can't open file "E:\My struggle\数据库课设\app\routes\fonts\simsun.ttc"

2024-07-17 10:46:20,055 - app - INFO - Supermarket startup
2024-07-17 10:46:21,321 - app - INFO - Supermarket startup
2024-07-17 10:46:25,252 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:46:26,744 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 10:46:26,745 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:46:26,749 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:46:26,750 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:46:26,751 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:46:28,219 - app - INFO - Supermarket startup
2024-07-17 10:46:29,922 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:46:29,995 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:46:30,004 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:46:30,040 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:47:16,232 - app - INFO - Supermarket startup
2024-07-17 10:47:57,169 - app - INFO - Supermarket startup
2024-07-17 10:48:16,781 - app - INFO - Supermarket startup
2024-07-17 10:49:07,869 - app - INFO - Supermarket startup
2024-07-17 10:49:51,786 - app - INFO - Supermarket startup
2024-07-17 10:50:00,605 - app - INFO - Supermarket startup
2024-07-17 10:50:01,882 - app - INFO - Supermarket startup
2024-07-17 10:58:09,606 - app - INFO - Supermarket startup
2024-07-17 10:58:10,890 - app - INFO - Supermarket startup
2024-07-17 10:58:15,551 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 10:58:18,199 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 10:58:18,526 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 10:58:18,571 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 10:58:18,617 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 10:59:01,947 - app - INFO - Supermarket startup
2024-07-17 10:59:28,595 - app - INFO - Supermarket startup
2024-07-17 10:59:47,261 - app - INFO - Supermarket startup
2024-07-17 11:01:15,259 - app - INFO - Supermarket startup
2024-07-17 11:01:17,472 - app - INFO - Supermarket startup
2024-07-17 11:01:27,435 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:01:28,881 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:01:28,892 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:01:28,896 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:01:28,897 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:01:28,900 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:04:58,930 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:04:58,953 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:04:58,962 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:04:59,006 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:06:23,065 - app - INFO - Supermarket startup
2024-07-17 11:06:24,330 - app - INFO - Supermarket startup
2024-07-17 11:06:29,232 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:06:47,147 - app - INFO - Supermarket startup
2024-07-17 11:06:48,421 - app - INFO - Supermarket startup
2024-07-17 11:06:51,849 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:07:11,411 - app - INFO - Supermarket startup
2024-07-17 11:07:12,938 - app - INFO - Supermarket startup
2024-07-17 11:07:18,387 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:07:23,707 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:07:23,987 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:07:23,998 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:07:24,032 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:08:30,449 - app - INFO - Supermarket startup
2024-07-17 11:10:26,466 - app - INFO - Supermarket startup
2024-07-17 11:11:19,576 - app - INFO - Supermarket startup
2024-07-17 11:12:11,605 - app - INFO - Supermarket startup
2024-07-17 11:12:37,407 - app - INFO - Supermarket startup
2024-07-17 11:13:32,930 - app - INFO - Supermarket startup
2024-07-17 11:13:34,229 - app - INFO - Supermarket startup
2024-07-17 11:13:40,117 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:13:41,423 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:13:41,426 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:13:41,428 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:13:41,428 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:13:41,430 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:13:44,949 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:13:44,959 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:13:44,968 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:13:44,991 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:14:00,178 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:14:00,188 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:14:00,196 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:14:00,215 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:14:01,258 - app - INFO - Supermarket startup
2024-07-17 11:14:03,145 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:14:05,352 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:14:08,049 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:14:08,060 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:14:08,104 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:15:13,264 - app - INFO - Supermarket startup
2024-07-17 11:15:14,521 - app - INFO - Supermarket startup
2024-07-17 11:17:43,383 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:17:44,539 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:17:44,541 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:17:44,545 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:17:44,546 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:17:44,550 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:17:48,972 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:17:48,983 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:17:48,993 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:17:49,018 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:26:44,665 - app - INFO - Supermarket startup
2024-07-17 11:27:11,094 - app - INFO - Supermarket startup
2024-07-17 11:27:12,078 - app - INFO - Supermarket startup
2024-07-17 11:27:16,222 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:27:17,309 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:27:17,323 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:27:17,323 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:27:17,326 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:27:17,329 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:27:21,098 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:27:21,110 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:27:21,118 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:27:21,139 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:27:22,299 - app - INFO - Supermarket startup
2024-07-17 11:28:00,994 - app - INFO - Supermarket startup
2024-07-17 11:30:56,806 - app - INFO - Supermarket startup
2024-07-17 11:30:57,858 - app - INFO - Supermarket startup
2024-07-17 11:31:00,741 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:31:02,064 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:31:02,069 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:31:02,072 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:31:02,073 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:31:22,316 - app - INFO - Supermarket startup
2024-07-17 11:31:23,341 - app - INFO - Supermarket startup
2024-07-17 11:31:26,484 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:31:27,349 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:31:27,352 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:31:27,354 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:31:27,357 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:31:44,276 - app - INFO - Supermarket startup
2024-07-17 11:31:45,262 - app - INFO - Supermarket startup
2024-07-17 11:31:47,914 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:31:48,915 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:31:48,916 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:31:48,917 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:31:48,921 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:31:48,924 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:32:01,625 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:32:01,639 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:32:01,649 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:32:01,670 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:32:21,729 - app - INFO - Supermarket startup
2024-07-17 11:32:22,713 - app - INFO - Supermarket startup
2024-07-17 11:32:25,481 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:32:26,385 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:32:26,387 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:32:26,391 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:32:26,394 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:32:26,396 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:32:29,073 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:32:29,084 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:32:29,095 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:32:29,115 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:32:52,877 - app - INFO - Supermarket startup
2024-07-17 11:32:54,163 - app - INFO - Supermarket startup
2024-07-17 11:32:57,656 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:32:58,756 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:32:58,756 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:32:58,758 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:32:58,759 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:32:58,760 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:33:01,808 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:33:01,816 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:33:01,823 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:33:01,838 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:33:10,781 - app - INFO - Supermarket startup
2024-07-17 11:33:12,072 - app - INFO - Supermarket startup
2024-07-17 11:33:15,006 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:33:16,156 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:33:16,159 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:33:16,160 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:33:16,163 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:33:16,165 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:33:18,790 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:33:18,800 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:33:18,810 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:33:18,831 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:33:55,567 - app - INFO - Supermarket startup
2024-07-17 11:33:56,786 - app - INFO - Supermarket startup
2024-07-17 11:33:59,644 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:34:00,632 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:34:00,633 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:34:00,637 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:34:00,640 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:34:00,642 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:34:04,818 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:34:04,827 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:34:04,836 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:34:04,857 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:34:23,900 - app - INFO - Supermarket startup
2024-07-17 11:34:25,138 - app - INFO - Supermarket startup
2024-07-17 11:34:28,593 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:34:29,508 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:34:29,510 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:34:29,511 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:34:29,515 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:34:29,516 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:34:34,808 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:34:34,818 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:34:34,826 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:34:34,844 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:35:04,814 - app - INFO - Supermarket startup
2024-07-17 11:35:28,145 - app - INFO - Supermarket startup
2024-07-17 11:40:15,424 - app - INFO - Supermarket startup
2024-07-17 11:40:17,094 - app - INFO - Supermarket startup
2024-07-17 11:40:29,758 - app - INFO - Supermarket startup
2024-07-17 11:40:29,766 - app - INFO - Supermarket startup
2024-07-17 11:46:32,717 - app - INFO - Supermarket startup
2024-07-17 11:46:33,735 - app - INFO - Supermarket startup
2024-07-17 11:46:33,979 - app - INFO - Supermarket startup
2024-07-17 11:46:51,821 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:46:52,960 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:46:52,962 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:46:52,964 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:46:52,966 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:46:52,970 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:46:52,974 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:46:53,263 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:46:53,265 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:46:53,272 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:46:53,278 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:46:55,632 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:46:55,638 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:46:55,643 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:46:55,651 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:46:55,657 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:46:55,665 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:46:55,678 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:46:55,684 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:46:59,779 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:46:59,802 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:46:59,808 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:46:59,817 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:46:59,818 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:46:59,849 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:46:59,875 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:46:59,889 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:47:13,021 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:47:13,042 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:47:13,047 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:47:13,054 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:47:13,059 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:47:13,074 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:47:13,106 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:47:13,120 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:48:40,732 - app - INFO - Supermarket startup
2024-07-17 11:48:41,768 - app - INFO - Supermarket startup
2024-07-17 11:48:42,022 - app - INFO - Supermarket startup
2024-07-17 11:48:48,016 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 11:48:48,983 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:48:48,984 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:48:48,985 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:48:48,987 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:48:48,988 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:48:48,991 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 11:48:49,238 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:48:49,238 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:48:49,241 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:48:49,242 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:48:52,315 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:48:52,320 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 11:48:52,325 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:48:52,332 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 11:48:52,336 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:48:52,343 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 11:48:52,354 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:48:52,364 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 11:48:52,392 - app.routes.analysis - ERROR - Error in generate_report: send_file() got an unexpected keyword argument 'cache_timeout'
2024-07-17 11:48:52,392 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 227, in generate_report
    return send_file(
TypeError: send_file() got an unexpected keyword argument 'cache_timeout'

2024-07-17 11:48:52,395 - app.routes.analysis - ERROR - Error in generate_report: send_file() got an unexpected keyword argument 'cache_timeout'
2024-07-17 11:48:52,395 - app.routes.analysis - ERROR - Traceback (most recent call last):
  File "E:\My struggle\数据库课设\app\routes\analysis.py", line 227, in generate_report
    return send_file(
TypeError: send_file() got an unexpected keyword argument 'cache_timeout'

2024-07-17 11:49:17,963 - app - INFO - Supermarket startup
2024-07-17 11:49:18,815 - app - INFO - Supermarket startup
2024-07-17 12:15:13,372 - app - INFO - Supermarket startup
2024-07-17 12:15:13,372 - app - INFO - Supermarket startup
2024-07-17 12:15:14,623 - app - INFO - Supermarket startup
2024-07-17 12:15:22,419 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 12:15:23,592 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 12:15:23,594 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 12:15:23,596 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 12:15:23,598 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 12:15:23,599 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 12:15:23,608 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 12:15:24,002 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 12:15:24,006 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 12:15:24,008 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 12:15:24,017 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 12:15:28,794 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 12:15:28,799 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 12:15:28,804 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 12:15:28,813 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 12:15:28,819 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 12:15:28,830 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 12:15:28,844 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 12:15:28,855 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 12:19:00,311 - app - INFO - Supermarket startup
2024-07-17 12:19:01,479 - app - INFO - Supermarket startup
2024-07-17 12:19:07,215 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 12:19:09,689 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 12:19:09,719 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 12:19:09,731 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 12:19:09,780 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 12:31:10,583 - app - INFO - Supermarket startup
2024-07-17 12:31:10,722 - app - INFO - Supermarket startup
2024-07-17 12:58:51,396 - app - INFO - Supermarket startup
2024-07-17 12:59:33,582 - app - INFO - Supermarket startup
2024-07-17 12:59:34,619 - app - INFO - Supermarket startup
2024-07-17 12:59:57,453 - app - INFO - Accessing suppliers page
2024-07-17 13:00:00,016 - app - INFO - Accessing suppliers page
2024-07-17 13:00:00,551 - app - INFO - Accessing employees page
2024-07-17 13:00:01,758 - app - INFO - Accessing purchases page
2024-07-17 13:00:03,070 - app - INFO - Accessing sales page
2024-07-17 13:00:04,073 - app - INFO - Fetching inventory list
2024-07-17 13:00:04,075 - app - INFO - Found 13 products
2024-07-17 13:00:04,095 - app - INFO - Successfully prepared inventory data
2024-07-17 13:00:05,257 - app - INFO - Accessing sales page
2024-07-17 13:00:06,836 - app - INFO - Accessing employees page
2024-07-17 13:00:07,626 - app - INFO - Accessing purchases page
2024-07-17 13:00:08,611 - app - INFO - Fetching inventory list
2024-07-17 13:00:08,614 - app - INFO - Found 13 products
2024-07-17 13:00:08,623 - app - INFO - Successfully prepared inventory data
2024-07-17 13:00:09,724 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 13:00:11,123 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 13:00:11,125 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 13:00:11,129 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 13:00:11,132 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 13:00:11,136 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 13:00:14,814 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 13:00:14,829 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 13:00:14,841 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 13:00:14,874 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 13:00:21,820 - app - INFO - Fetching inventory list
2024-07-17 13:00:21,822 - app - INFO - Found 13 products
2024-07-17 13:00:21,836 - app - INFO - Successfully prepared inventory data
2024-07-17 13:06:27,931 - app - INFO - Supermarket startup
2024-07-17 13:06:28,868 - app - INFO - Supermarket startup
2024-07-17 13:07:31,423 - app - INFO - Supermarket startup
2024-07-17 13:07:32,318 - app - INFO - Supermarket startup
2024-07-17 13:08:22,288 - app - INFO - Supermarket startup
2024-07-17 13:08:23,247 - app - INFO - Supermarket startup
2024-07-17 13:17:32,544 - app - INFO - Supermarket startup
2024-07-17 13:17:33,634 - app - INFO - Supermarket startup
2024-07-17 13:17:57,489 - app - INFO - Accessing suppliers page
2024-07-17 13:17:58,488 - app - INFO - Accessing employees page
2024-07-17 13:17:59,265 - app - INFO - Accessing purchases page
2024-07-17 13:18:00,720 - app - INFO - Accessing purchases page
2024-07-17 13:18:01,197 - app - INFO - Accessing sales page
2024-07-17 13:18:02,618 - app - INFO - Fetching inventory list
2024-07-17 13:18:02,622 - app - INFO - Found 13 products
2024-07-17 13:18:02,642 - app - INFO - Successfully prepared inventory data
2024-07-17 13:18:03,956 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 13:18:05,218 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 13:18:05,219 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 13:18:05,222 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 13:18:05,226 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 13:18:05,234 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 13:19:22,553 - app - INFO - Supermarket startup
2024-07-17 13:19:23,516 - app - INFO - Supermarket startup
2024-07-17 13:19:28,698 - app - INFO - Accessing suppliers page
2024-07-17 13:19:29,216 - app - INFO - Accessing employees page
2024-07-17 13:19:30,044 - app - INFO - Accessing purchases page
2024-07-17 13:19:30,543 - app - INFO - Accessing sales page
2024-07-17 13:19:31,094 - app - INFO - Fetching inventory list
2024-07-17 13:19:31,096 - app - INFO - Found 13 products
2024-07-17 13:19:31,105 - app - INFO - Successfully prepared inventory data
2024-07-17 13:19:31,570 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 13:29:00,138 - app - INFO - Supermarket startup
2024-07-17 13:29:22,657 - app - INFO - Supermarket startup
2024-07-17 13:31:52,107 - app - INFO - Supermarket startup
2024-07-17 13:31:53,129 - app - INFO - Supermarket startup
2024-07-17 13:32:02,956 - app - INFO - Accessing suppliers page
2024-07-17 13:32:04,187 - app - INFO - Accessing employees page
2024-07-17 13:32:04,861 - app - INFO - Accessing purchases page
2024-07-17 13:32:06,299 - app - INFO - Accessing sales page
2024-07-17 13:32:07,416 - app - INFO - Fetching inventory list
2024-07-17 13:32:07,419 - app - INFO - Found 13 products
2024-07-17 13:32:07,434 - app - INFO - Successfully prepared inventory data
2024-07-17 13:32:08,432 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 13:32:10,338 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 13:32:10,342 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 13:32:10,344 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 13:32:10,350 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 13:32:10,352 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 13:36:54,786 - app - INFO - Supermarket startup
2024-07-17 13:36:55,736 - app - INFO - Supermarket startup
2024-07-17 13:42:08,379 - app - INFO - Supermarket startup
2024-07-17 13:42:52,494 - app - INFO - Supermarket startup
2024-07-17 13:42:53,596 - app - INFO - Supermarket startup
2024-07-17 13:43:00,913 - app - INFO - Accessing suppliers page
2024-07-17 13:43:01,649 - app - INFO - Accessing employees page
2024-07-17 13:43:02,319 - app - INFO - Accessing purchases page
2024-07-17 13:43:03,044 - app - INFO - Accessing sales page
2024-07-17 13:43:03,780 - app - INFO - Fetching inventory list
2024-07-17 13:43:03,782 - app - INFO - Found 13 products
2024-07-17 13:43:03,791 - app - INFO - Successfully prepared inventory data
2024-07-17 13:43:04,309 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 13:43:05,874 - app - INFO - Supermarket startup
2024-07-17 14:39:58,943 - app - INFO - Supermarket startup
2024-07-17 14:39:59,937 - app - INFO - Supermarket startup
2024-07-17 14:40:29,649 - app - INFO - Accessing suppliers page
2024-07-17 14:40:34,917 - app - INFO - Accessing suppliers page
2024-07-17 14:40:36,127 - app - INFO - Accessing employees page
2024-07-17 14:40:41,099 - app - INFO - Accessing employees page
2024-07-17 14:40:41,612 - app - INFO - Accessing purchases page
2024-07-17 14:40:55,491 - app - INFO - Accessing sales page
2024-07-17 14:49:48,659 - app - INFO - Supermarket startup
2024-07-17 14:51:41,030 - app - INFO - Supermarket startup
2024-07-17 14:51:44,265 - app - INFO - Supermarket startup
2024-07-17 14:51:45,198 - app - INFO - Supermarket startup
2024-07-17 14:52:10,031 - app - INFO - Fetching inventory list
2024-07-17 14:52:10,035 - app - INFO - Found 13 products
2024-07-17 14:52:10,054 - app - INFO - Successfully prepared inventory data
2024-07-17 14:52:10,902 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 14:52:12,510 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 14:52:12,529 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 14:52:12,530 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 14:52:12,533 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 14:52:12,537 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 14:52:45,667 - app - INFO - Accessing suppliers page
2024-07-17 14:52:57,294 - app - INFO - Accessing employees page
2024-07-17 14:52:58,761 - app - INFO - Accessing purchases page
2024-07-17 15:31:49,256 - app - INFO - Supermarket startup
2024-07-17 15:31:50,219 - app - INFO - Supermarket startup
2024-07-17 15:37:33,083 - app - INFO - Supermarket startup
2024-07-17 20:46:47,424 - app - INFO - Supermarket startup
2024-07-17 20:46:48,483 - app - INFO - Supermarket startup
2024-07-17 21:32:40,505 - app - INFO - Supermarket startup
2024-07-17 21:35:33,634 - app - INFO - Accessing suppliers page
2024-07-17 21:35:36,002 - app - INFO - Accessing employees page
2024-07-17 21:35:42,179 - app - INFO - Accessing purchases page
2024-07-17 21:35:46,030 - app - INFO - Fetching purchase with id: 25
2024-07-17 21:35:46,037 - app - INFO - Returning purchase data: {'id': 25, 'product_name': 'Unknown', 'supplier_name': '优质食品有限公司', 'quantity': 50, 'unit_price': 1.0, 'purchase_date': '2024-07-14', 'purchase_id': 25, 'product_id': None, 'supplier_id': 1}
2024-07-17 21:35:46,040 - app - INFO - Fetching purchase with id: 25
2024-07-17 21:35:46,045 - app - INFO - Returning purchase data: {'id': 25, 'product_name': 'Unknown', 'supplier_name': '优质食品有限公司', 'quantity': 50, 'unit_price': 1.0, 'purchase_date': '2024-07-14', 'purchase_id': 25, 'product_id': None, 'supplier_id': 1}
2024-07-17 21:35:51,818 - app - INFO - Editing purchase with id: 25
2024-07-17 21:35:51,819 - app - INFO - Received edit data: {'id': '25', 'product_id': '54', 'supplier_id': '1', 'quantity': '50', 'unit_price': '1', 'purchase_date': '2024-07-14'}
2024-07-17 21:35:52,077 - app - INFO - Successfully updated purchase: 25
2024-07-17 21:35:58,856 - app - INFO - Accessing purchases page
2024-07-17 21:35:59,611 - app - INFO - Accessing sales page
2024-07-17 21:36:03,520 - app - INFO - Fetching inventory list
2024-07-17 21:36:03,522 - app - INFO - Found 1 products
2024-07-17 21:36:03,526 - app - INFO - Successfully prepared inventory data
2024-07-17 21:36:06,812 - app - INFO - Fetching inventory list
2024-07-17 21:36:06,815 - app - INFO - Found 1 products
2024-07-17 21:36:06,816 - app - INFO - Successfully prepared inventory data
2024-07-17 21:36:08,197 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 22:22:51,171 - app - INFO - Supermarket startup
2024-07-17 22:22:53,020 - app - INFO - Supermarket startup
2024-07-17 22:23:41,104 - app - INFO - Accessing employees page
2024-07-17 22:23:42,637 - app - INFO - Accessing purchases page
2024-07-17 22:23:43,279 - app - INFO - Accessing sales page
2024-07-17 22:23:45,029 - app - INFO - Fetching inventory list
2024-07-17 22:23:45,032 - app - INFO - Found 1 products
2024-07-17 22:23:45,038 - app - INFO - Successfully prepared inventory data
2024-07-17 22:23:49,172 - app - INFO - Starting to generate inventory report
2024-07-17 22:23:49,177 - app - INFO - Inventory report generated successfully
2024-07-17 22:23:59,888 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 22:24:00,926 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 22:24:00,927 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 22:24:00,929 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 22:24:00,932 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 22:24:00,936 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 22:24:12,255 - app - INFO - Accessing sales page
2024-07-17 22:24:17,490 - app - INFO - Accessing employees page
2024-07-17 22:24:23,899 - app - INFO - Adding new employee
2024-07-17 22:24:23,912 - app - INFO - Employee added successfully: 桑勇
2024-07-17 22:24:24,855 - app - INFO - Accessing employees page
2024-07-17 22:24:26,669 - app - INFO - Accessing sales page
2024-07-17 22:24:34,981 - app - INFO - Adding new sale
2024-07-17 22:24:35,025 - app - INFO - Successfully added new sale for product ID: 56
2024-07-17 22:24:37,358 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 22:24:38,299 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 22:24:38,303 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 22:24:38,305 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 22:24:38,310 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 22:24:38,314 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 22:25:13,859 - app - INFO - Accessing suppliers page
2024-07-17 22:25:18,882 - app - INFO - Accessing employees page
2024-07-17 22:25:19,600 - app - INFO - Accessing purchases page
2024-07-17 22:25:20,383 - app - INFO - Accessing sales page
2024-07-17 22:25:21,354 - app - INFO - Fetching inventory list
2024-07-17 22:25:21,357 - app - INFO - Found 1 products
2024-07-17 22:25:21,361 - app - INFO - Successfully prepared inventory data
2024-07-17 22:25:22,994 - app - INFO - Supermarket startup
2024-07-17 22:25:44,814 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 22:25:47,038 - app - INFO - Supermarket startup
2024-07-17 22:25:47,634 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 22:25:47,635 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 22:25:47,637 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 22:25:47,641 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 22:25:47,643 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 23:00:15,416 - app - INFO - Supermarket startup
2024-07-17 23:00:17,010 - app - INFO - Supermarket startup
2024-07-17 23:01:15,186 - app - INFO - Accessing suppliers page
2024-07-17 23:01:17,867 - app - INFO - Accessing employees page
2024-07-17 23:01:20,708 - app - INFO - Deleting employee with id: 14
2024-07-17 23:01:20,733 - app - INFO - Employee deleted successfully: 桑勇
2024-07-17 23:01:21,732 - app - INFO - Accessing employees page
2024-07-17 23:01:27,230 - app - INFO - Accessing suppliers page
2024-07-17 23:01:27,845 - app - INFO - Accessing employees page
2024-07-17 23:01:28,410 - app - INFO - Accessing purchases page
2024-07-17 23:01:29,493 - app - INFO - Accessing sales page
2024-07-17 23:01:30,181 - app - INFO - Fetching inventory list
2024-07-17 23:01:30,183 - app - INFO - Found 0 products
2024-07-17 23:01:30,184 - app - INFO - Successfully prepared inventory data
2024-07-17 23:01:31,158 - app - INFO - Accessing sales page
2024-07-17 23:01:33,319 - app - INFO - Attempting to delete sale with id: 25
2024-07-17 23:01:33,326 - app - INFO - Sale found: <Sale 25>
2024-07-17 23:01:33,334 - app - WARNING - Product not found for sale 25
2024-07-17 23:01:33,341 - app - INFO - Sale 25 deleted successfully
2024-07-17 23:01:35,250 - app - INFO - Supermarket startup
2024-07-17 23:01:35,620 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 23:01:35,815 - app - INFO - Fetching inventory list
2024-07-17 23:01:35,817 - app - INFO - Found 0 products
2024-07-17 23:01:35,818 - app - INFO - Successfully prepared inventory data
2024-07-17 23:01:35,971 - app - INFO - Accessing sales page
2024-07-17 23:01:36,769 - app - INFO - Fetching inventory list
2024-07-17 23:01:36,770 - app - INFO - Found 0 products
2024-07-17 23:01:36,771 - app - INFO - Successfully prepared inventory data
2024-07-17 23:01:37,796 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 23:20:21,683 - app - INFO - Supermarket startup
2024-07-17 23:20:22,590 - app - INFO - Supermarket startup
2024-07-17 23:20:29,405 - app - INFO - Accessing suppliers page
2024-07-17 23:20:31,474 - app - INFO - Accessing employees page
2024-07-17 23:20:34,995 - app - INFO - Accessing purchases page
2024-07-17 23:20:37,116 - app - INFO - Accessing sales page
2024-07-17 23:20:38,228 - app - INFO - Fetching inventory list
2024-07-17 23:20:38,230 - app - INFO - Found 40 products
2024-07-17 23:20:38,242 - app - INFO - Successfully prepared inventory data
2024-07-17 23:20:43,209 - app - INFO - Accessing suppliers page
2024-07-17 23:20:44,300 - app - INFO - Accessing employees page
2024-07-17 23:20:44,913 - app - INFO - Accessing suppliers page
2024-07-17 23:20:45,797 - app - INFO - Accessing suppliers page
2024-07-17 23:20:46,337 - app - INFO - Accessing employees page
2024-07-17 23:25:12,824 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 23:25:16,230 - app - INFO - Accessing suppliers page
2024-07-17 23:25:17,188 - app - INFO - Accessing employees page
2024-07-17 23:25:18,296 - app - INFO - Accessing purchases page
2024-07-17 23:25:21,056 - app - INFO - Accessing sales page
2024-07-17 23:25:23,055 - app - INFO - Accessing sales page
2024-07-17 23:25:24,686 - app - INFO - Fetching inventory list
2024-07-17 23:25:24,689 - app - INFO - Found 40 products
2024-07-17 23:25:24,717 - app - INFO - Successfully prepared inventory data
2024-07-17 23:25:25,600 - app - INFO - Accessing sales page
2024-07-17 23:25:26,483 - app - INFO - Fetching inventory list
2024-07-17 23:25:26,486 - app - INFO - Found 40 products
2024-07-17 23:25:26,500 - app - INFO - Successfully prepared inventory data
2024-07-17 23:25:28,573 - app - INFO - Accessing sales page
2024-07-17 23:26:38,377 - app - INFO - Accessing sales page
2024-07-17 23:26:40,363 - app - INFO - Accessing purchases page
2024-07-17 23:26:40,885 - app - INFO - Accessing sales page
2024-07-17 23:26:41,545 - app - INFO - Fetching inventory list
2024-07-17 23:26:41,627 - app - INFO - Found 40 products
2024-07-17 23:26:41,656 - app - INFO - Successfully prepared inventory data
2024-07-17 23:26:42,398 - app - INFO - Accessing sales page
2024-07-17 23:26:43,577 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 23:26:44,779 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 23:26:44,782 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 23:26:44,784 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 23:26:44,789 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 23:26:44,792 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-17 23:27:32,836 - app - INFO - Supermarket startup
2024-07-17 23:27:33,796 - app - INFO - Supermarket startup
2024-07-17 23:27:37,005 - app - INFO - Accessing suppliers page
2024-07-17 23:27:37,888 - app - INFO - Accessing employees page
2024-07-17 23:27:38,363 - app - INFO - Accessing purchases page
2024-07-17 23:27:38,828 - app - INFO - Accessing sales page
2024-07-17 23:27:39,435 - app - INFO - Fetching inventory list
2024-07-17 23:27:39,438 - app - INFO - Found 40 products
2024-07-17 23:27:39,449 - app - INFO - Successfully prepared inventory data
2024-07-17 23:27:39,788 - app.routes.analysis - INFO - Rendering analysis page
2024-07-17 23:27:42,106 - app.routes.analysis - INFO - Customer behavior analysis requested
2024-07-17 23:27:42,108 - app.routes.analysis - INFO - Sales trend analysis requested
2024-07-17 23:27:42,110 - app.routes.analysis - INFO - Top products analysis requested
2024-07-17 23:27:42,114 - app.routes.analysis - INFO - Employee performance analysis requested
2024-07-17 23:27:42,117 - app.routes.analysis - INFO - Inventory turnover analysis requested
2024-07-18 08:31:26,066 - app - INFO - Supermarket startup
2024-07-18 08:31:27,065 - app - INFO - Supermarket startup
2024-07-18 08:37:45,585 - app - INFO - Supermarket startup
2024-07-18 08:46:39,396 - app - INFO - Supermarket startup
2024-07-18 08:46:40,366 - app - INFO - Supermarket startup
